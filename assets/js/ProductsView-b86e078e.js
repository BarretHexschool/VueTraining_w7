import{c as M}from"./useCartStore-27cd6c8e.js";import{m as P}from"./index-b1ed3f86.js";import{b6 as L,av as h,aj as i,l as u,F as v,at as y,m as e,j as V,k as x,aJ as p,s as f,t as d,b1 as m,b3 as k}from"./_plugin-vue_export-helper-68081c38.js";import{j as w}from"./runtime-dom.esm-bundler-eb0e3820.js";import{L as T}from"./LoadingDesign-df3df60d.js";import{s as E}from"./useSweetAlertStore-fa1efac6.js";import{M as C}from"./modal-07befdcc.js";import"./axios-aba6f0e0.js";import"./vue-router-e29dd812.js";import"./_commonjsHelpers-87174ba5.js";import"./base-component-3c0963ef.js";const U={name:"FrontProductsList",props:["openModal","products","category"],computed:{filteredProducts(){return this.filterProducts(this.products)}},methods:{filterProducts(l){if(this.category==="精選套餐"){const t=l.filter(a=>a.category===this.category);return this.gropuSetProducts(t)}else return l.filter(t=>t.category===this.category)},gropuSetProducts(l){const t={};return l.forEach(a=>{const{mainTitle:n,select1:s,select2:r}=a;t[n]===void 0?t[n]={...a}:(s!==void 0&&(typeof t[n].select1=="string"?t[n].select1!==s&&(t[n].select1=[t[n].select1,s]):this.checkHas(t[n].select1,s)||(t[n].select1=[...t[n].select1,s])),typeof t[n].select2=="string"?t[n].select2!==r&&(t[n].select2=[t[n].select2,r]):this.checkHas(t[n].select2,r)||(t[n].select2=[...t[n].select2,r]))}),t},checkHas(l,t){return l.includes(t)},...P(M,["addToCart"])}},j={class:"list-unstyled mb-1 row row-cols-1 row-cols-md-2"},S={class:"position-relative bg-secondary rounded rounded-3 p-2 porductList"},B=["onClick"],I={class:"d-flex align-items-start align-items-lg-center"},F={class:"box-img me-2 ratio ratio-1x1 product-img"},$={class:"box-word w-100 d-flex flex-column justify-content-between"},A={class:"product-word ls-15"},D={class:"fs-6 ms-lg-2"},H={class:"d-flex justify-content-between align-items-start flex-column flex-lg-row align-content-end align-items-end"},N={class:"product-price text-end mb-1 mb-lg-0"},R={key:0,class:"fs-5"},q={key:1,class:"d-flex flex-column flex-lg-row align-content-end align-items-end me-1"},z={class:"fs-7 me-lg-1"},G={class:"fs-5 fw-bold"},J=e("div",{class:"py-1 px-2 bg-third rounded-5 fs-6 d-none d-lg-flex"},[e("span",{class:"material-symbols-rounded me-1"},"add_box"),f("加入購物車 ")],-1),K=e("div",{class:"d-flex justify-content-center py-1 px-2 mt-2 bg-third rounded-5 fs-6 d-lg-none"},[e("span",{class:"material-symbols-rounded me-1"},"add_box"),f("加入購物車 ")],-1);function Q(l,t,a,n,s,r){const b=h("ProgressiveImage");return i(),u("ul",j,[(i(!0),u(v,null,y(r.filteredProducts,c=>(i(),u("li",{class:"col mb-2","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",key:c.id},[e("div",S,[e("button",{type:"button",class:"btn position-absolute z-2 btn-porduct-add",onClick:_=>a.openModal(c)},null,8,B),e("div",I,[e("div",F,[c.imageUrl?(i(),V(b,{key:0,src:`${c.imageUrl}?width=200`,class:"img-fluid object-top",alt:c.mainTitle},null,8,["src","alt"])):x("",!0)]),e("div",$,[e("div",A,[e("h3",null,p(c.mainTitle),1),e("p",D,p(c.description),1)]),e("div",H,[e("div",N,[c.price==c.origin_price?(i(),u("div",R," $"+p(c.price)+" 元 ",1)):(i(),u("div",q,[e("del",z," 原價：$ "+p(c.origin_price)+" 元",1),e("span",G,"特價： $ "+p(c.price)+" 元",1)]))]),J])])]),K])]))),128))])}const W=L(U,[["render",Q]]),X={props:["tempProduct","products","productModalElement"],data(){return{drinkType:["冰","冷(去冰)","溫"],message:"",selectedOption1:"",selectedOption2:"",iceLevel:"",id:this.tempProduct.id,isSelect:this.tempProduct.is_select}},methods:{testBtn(){console.log(this.selectedOption1)},addToCartBtn(l){let t=this.tempProduct.id;this.tempProduct.is_select===1&&(t=this.findId()),this.addToCart(t,1,this.message),this.productModalElement.hide(),this.$refs.form.resetForm()},findId(){return this.selectedOption1===""&&(this.selectedOption1=void 0),this.selectedOption2===""&&(this.selectedOption2=void 0),this.iceLevel===""&&(this.iceLevel=void 0),this.products.find(t=>t.mainTitle===this.tempProduct.mainTitle&&t.select1===this.selectedOption1&&t.select2===this.selectedOption2&&t.iceLevel===this.iceLevel).id},watchMore(l){this.productModalElement.hide(),this.$router.push(`/product/${l}`)},...P(M,["addToCart"])}},Y={id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},Z={class:"modal-dialog modal-dialog-centered modal-md"},ee={class:"modal-content"},te=["src"],se={class:"modal-header d-block"},oe={class:"d-flex justify-content-between flex-wrap"},de={class:"mb-2"},le=e("button",{type:"button",class:"btn-close position-absolute top-0 end-0 p-1 m-1 rounded-circle bg-opacity-75 bg-danger","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ne={class:"modal-body"},ce={key:0,class:"mb-2 radioBox"},ae=e("p",{class:"mb-0"},"主食選擇：",-1),ie=e("p",{class:"invalid-feedback d-block my-0"}," *請選擇您所想要的主食 ",-1),re={class:"form-check"},ue=["id","value"],me=["for"],pe={key:1,class:"mb-2 radioBox"},_e=e("p",{class:"mb-0"},"飲料選擇：",-1),fe=e("p",{class:"invalid-feedback d-block my-0"}," *請問你要喝什麼？ ",-1),he={class:"form-check"},be=["id","value"],ge=["for"],ve={key:2,class:"mb-2 radioBox"},ye=e("p",{class:"mb-0"},"冰冷熱選擇：",-1),xe=e("p",{class:"invalid-feedback d-block my-0"}," *請問要冰的？還是熱的？ ",-1),Pe=["id","value"],ke=["for"],we={class:"mb-3"},Me=e("label",{for:"message",class:"col-form-label"},[f("餐點備註"),e("br"),e("span",{class:"fs-6"},"我們將盡量配合，未符合期待還請多包容哦，如兩份一樣的餐點要不同做法，請寫在一起。")],-1),Le={class:"modal-footer justify-content-between"},Oe=e("button",{type:"submit",class:"btn btn-secondary"},"放入購物車",-1);function Ve(l,t,a,n,s,r){const b=h("ErrorMessage"),c=h("v-field"),_=h("v-form");return i(),u("div",Y,[e("div",Z,[e("div",ee,[e("img",{class:"productModalImg",src:a.tempProduct.imageUrl},null,8,te),e("div",se,[e("div",oe,[e("h3",null,p(a.tempProduct.mainTitle),1),e("p",null,"$ "+p(a.tempProduct.price),1)]),e("p",de,p(a.tempProduct.description),1),le]),e("div",ne,[d(_,{ref:"form",onSubmit:r.addToCartBtn},{default:m(()=>[a.tempProduct.select1?(i(),u("div",ce,[ae,d(b,{name:"selectedOption1"},{default:m(()=>[ie]),_:1}),d(c,{id:"selectedOption1",name:"selectedOption1",type:"radio",rules:"required",modelValue:s.selectedOption1,"onUpdate:modelValue":t[1]||(t[1]=o=>s.selectedOption1=o)},{default:m(()=>[(i(!0),u(v,null,y(a.tempProduct.select1,o=>(i(),u("div",re,[k(e("input",{class:"form-check-input",type:"radio",name:"selectedOption1",id:o,value:o,"onUpdate:modelValue":t[0]||(t[0]=g=>s.selectedOption1=g)},null,8,ue),[[w,s.selectedOption1]]),e("label",{class:"form-check-label",for:o},p(o),9,me)]))),256))]),_:1},8,["modelValue"])])):x("",!0),a.tempProduct.select2?(i(),u("div",pe,[_e,d(b,{name:"selectedOption2"},{default:m(()=>[fe]),_:1}),d(c,{id:"selectedOption2",name:"selectedOption2",type:"radio",rules:"required",modelValue:s.selectedOption2,"onUpdate:modelValue":t[3]||(t[3]=o=>s.selectedOption2=o)},{default:m(()=>[(i(!0),u(v,null,y(a.tempProduct.select2,o=>(i(),u("div",he,[k(e("input",{class:"form-check-input",type:"radio",name:"selectedOption2",id:o,value:o,"onUpdate:modelValue":t[2]||(t[2]=g=>s.selectedOption2=g)},null,8,be),[[w,s.selectedOption2]]),e("label",{class:"form-check-label",for:o},p(o),9,ge)]))),256))]),_:1},8,["modelValue"])])):x("",!0),a.tempProduct.iceLevel?(i(),u("div",ve,[ye,d(b,{name:"iceLevel"},{default:m(()=>[xe]),_:1}),d(c,{id:"iceLevel",name:"iceLevel",type:"radio",rules:"required",modelValue:s.iceLevel,"onUpdate:modelValue":t[5]||(t[5]=o=>s.iceLevel=o)},{default:m(()=>[(i(!0),u(v,null,y(s.drinkType,(o,g)=>(i(),u("div",{class:"form-check",key:g},[k(e("input",{class:"form-check-input",type:"radio",name:"iceLevel",id:o,value:o,"onUpdate:modelValue":t[4]||(t[4]=O=>s.iceLevel=O)},null,8,Pe),[[w,s.iceLevel]]),e("label",{class:"form-check-label",for:o},p(o),9,ke)]))),128))]),_:1},8,["modelValue"])])):x("",!0),e("div",we,[Me,d(c,{modelValue:s.message,"onUpdate:modelValue":t[6]||(t[6]=o=>s.message=o),class:"form-control",name:"message",id:"message",placeholder:"例如：不要小黃瓜、不要沙拉醬、要加番茄醬、一份正常做，一份不要沙拉醬"},null,8,["modelValue"])]),e("div",Le,[e("button",{type:"button",class:"btn btn-danger",onClick:t[7]||(t[7]=o=>r.watchMore(a.tempProduct.id))}," 看更多 "),Oe])]),_:1},8,["onSubmit"])])])])],512)}const Te=L(X,[["render",Ve]]),{VITE_APP_URL:Ee,VITE_APP_PATH:Ce}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"2259buyer",BASE_URL:"/VueTraining_w7/",MODE:"production",DEV:!1,PROD:!0},Ue={data(){return{products:[],isLoading:!0,tempProduct:{},productModalElement:""}},methods:{getProduct(){this.$http.get(`${Ee}/v2/api/${Ce}/products/all`).then(l=>{this.products=l.data.products,this.isLoading=!1}).catch(l=>{this.swalError(l)})},openModal(l){this.tempProduct={...l},this.productModalElement.show()},...P(M,["addToCart"]),...P(E,["swalError","swalToastTopEnd"])},mounted(){document.title="鮮堡漢堡 文化店 | 美味鮮堡",this.getProduct(),this.productModalElement=new C(document.querySelector("#productModal"),{keyboard:!1}),this.productModalElement.hide()},components:{LoadingDesign:T,FrontProductModal:Te,FrontProductsList:W}},je={class:"w-100 position-relative pb-3"},Se={class:"common-hero container"},Be={class:"hero-banner overflow-hidden rounded rounded-6 rounded-lg-7 mb-3"},Ie={class:"list-unstyled overflow-x-auto productsCatalogNav"},Fe=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"selectSet"}," 嚴選套餐 ",-1),$e=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"hamburger"}," 漢堡 ",-1),Ae=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"toast"}," 現烤吐司 ",-1),De=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"sandwich"}," 現烤總匯 ",-1),He=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"snack"}," 中西式點心 ",-1),Ne=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"omelet"}," 蛋餅、河粉蛋餅 ",-1);function Re(l,t,a,n,s,r){const b=h("LoadingDesign"),c=h("ProgressiveImage"),_=h("router-link"),o=h("FrontProductsList"),g=h("FrontProductModal");return i(),u(v,null,[d(b,{"is-loading":s.isLoading},null,8,["is-loading"]),e("main",je,[e("section",Se,[e("div",Be,[d(c,{src:"./assets/images/product-hero.jpg",alt:"",class:"img-fluid object-fit-cover object-position-center"})]),e("ul",Ie,[e("li",null,[d(_,{to:"/products#selectSet",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:m(()=>[f("嚴選套餐")]),_:1})]),e("li",null,[d(_,{to:"/products#hamburger",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:m(()=>[f("漢堡")]),_:1})]),e("li",null,[d(_,{to:"/products#toast",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:m(()=>[f("現烤吐司")]),_:1})]),e("li",null,[d(_,{to:"/products#sandwich",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:m(()=>[f("現烤總匯")]),_:1})]),e("li",null,[d(_,{to:"/products#snack",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:m(()=>[f("中西式點心")]),_:1})]),e("li",null,[d(_,{to:"/products#omelet",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:m(()=>[f("蛋餅、河粉蛋餅")]),_:1})])]),Fe,d(o,{"open-modal":r.openModal,products:s.products,category:"精選套餐"},null,8,["open-modal","products"]),$e,d(o,{"open-modal":r.openModal,products:s.products,category:"漢堡"},null,8,["open-modal","products"]),Ae,d(o,{"open-modal":r.openModal,products:s.products,category:"現烤吐司"},null,8,["open-modal","products"]),De,d(o,{"open-modal":r.openModal,products:s.products,category:"現烤總匯"},null,8,["open-modal","products"]),He,d(o,{"open-modal":r.openModal,products:s.products,category:"中西式點心"},null,8,["open-modal","products"]),Ne,d(o,{"open-modal":r.openModal,products:s.products,category:"蛋餅、河粉蛋餅"},null,8,["open-modal","products"]),d(g,{"temp-product":s.tempProduct,products:s.products,"product-modal-element":s.productModalElement},null,8,["temp-product","products","product-modal-element"])])])],64)}const tt=L(Ue,[["render",Re]]);export{tt as default};
