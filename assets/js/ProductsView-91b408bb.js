import{c as M}from"./useCartStore-40a10091.js";import{m as P}from"./index-afc8446e.js";import{b6 as L,av as f,aj as i,l as u,F as y,at as v,m as e,j as O,k as x,aJ as p,s as h,t as d,b1 as m,b3 as k}from"./_plugin-vue_export-helper-68081c38.js";import{E,a as T,F}from"./vee-validate.esm-51f435e3.js";import{j as w}from"./runtime-dom.esm-bundler-eb0e3820.js";import{L as C}from"./LoadingDesign-df3df60d.js";import{s as U}from"./useSweetAlertStore-a035c18e.js";import{M as j}from"./modal-07befdcc.js";import"./axios-aba6f0e0.js";import"./vue-router-e29dd812.js";import"./_commonjsHelpers-87174ba5.js";import"./base-component-3c0963ef.js";const S={name:"FrontProductsList",props:["openModal","products","category"],computed:{filteredProducts(){return this.filterProducts(this.products)}},methods:{filterProducts(l){if(this.category==="精選套餐"){const t=l.filter(c=>c.category===this.category);return this.gropuSetProducts(t)}else return l.filter(t=>t.category===this.category)},gropuSetProducts(l){const t={};return l.forEach(c=>{const{mainTitle:n,select1:s,select2:r}=c;t[n]===void 0?t[n]={...c}:(s!==void 0&&(typeof t[n].select1=="string"?t[n].select1!==s&&(t[n].select1=[t[n].select1,s]):this.checkHas(t[n].select1,s)||(t[n].select1=[...t[n].select1,s])),typeof t[n].select2=="string"?t[n].select2!==r&&(t[n].select2=[t[n].select2,r]):this.checkHas(t[n].select2,r)||(t[n].select2=[...t[n].select2,r]))}),t},checkHas(l,t){return l.includes(t)},...P(M,["addToCart"])}},I={class:"list-unstyled mb-1 row row-cols-1 row-cols-md-2"},B={class:"position-relative bg-secondary rounded rounded-3 p-2 porductList"},$=["onClick"],A={class:"d-flex align-items-start align-items-lg-center"},D={class:"box-img me-2 ratio ratio-1x1 product-img"},H={class:"box-word w-100 d-flex flex-column justify-content-between"},N={class:"product-word ls-15"},R={class:"fs-6 ms-lg-2"},q={class:"d-flex justify-content-between align-items-start flex-column flex-lg-row align-content-end align-items-end"},z={class:"product-price text-end mb-1 mb-lg-0"},G={key:0,class:"fs-5"},J={key:1,class:"d-flex flex-column flex-lg-row align-content-end align-items-end me-1"},K={class:"fs-7 me-lg-1"},Q={class:"fs-5 fw-bold"},W=e("div",{class:"py-1 px-2 bg-third rounded-5 fs-6 d-none d-lg-flex"},[e("span",{class:"material-symbols-rounded me-1"},"add_box"),h("加入購物車 ")],-1),X=e("div",{class:"d-flex justify-content-center py-1 px-2 mt-2 bg-third rounded-5 fs-6 d-lg-none"},[e("span",{class:"material-symbols-rounded me-1"},"add_box"),h("加入購物車 ")],-1);function Y(l,t,c,n,s,r){const b=f("ProgressiveImage");return i(),u("ul",I,[(i(!0),u(y,null,v(r.filteredProducts,a=>(i(),u("li",{class:"col mb-2","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",key:a.id},[e("div",B,[e("button",{type:"button",class:"btn position-absolute z-2 btn-porduct-add",onClick:_=>c.openModal(a)},null,8,$),e("div",A,[e("div",D,[a.imageUrl?(i(),O(b,{key:0,src:`${a.imageUrl}?width=200`,class:"img-fluid object-top",alt:a.mainTitle},null,8,["src","alt"])):x("",!0)]),e("div",H,[e("div",N,[e("h3",null,p(a.mainTitle),1),e("p",R,p(a.description),1)]),e("div",q,[e("div",z,[a.price==a.origin_price?(i(),u("div",G," $"+p(a.price)+" 元 ",1)):(i(),u("div",J,[e("del",K," 原價：$ "+p(a.origin_price)+" 元",1),e("span",Q,"特價： $ "+p(a.price)+" 元",1)]))]),W])])]),X])]))),128))])}const Z=L(S,[["render",Y]]),ee={props:["tempProduct","products","productModalElement"],data(){return{drinkType:["冰","冷(去冰)","溫"],message:"",selectedOption1:"",selectedOption2:"",iceLevel:"",id:this.tempProduct.id,isSelect:this.tempProduct.is_select}},methods:{addToCartBtn(l){let t=this.tempProduct.id;this.tempProduct.is_select===1&&(t=this.findId()),this.addToCart(t,1,this.message),this.productModalElement.hide(),this.$refs.form.resetForm()},findId(){return this.selectedOption1===""&&(this.selectedOption1=void 0),this.selectedOption2===""&&(this.selectedOption2=void 0),this.iceLevel===""&&(this.iceLevel=void 0),this.products.find(t=>t.mainTitle===this.tempProduct.mainTitle&&t.select1===this.selectedOption1&&t.select2===this.selectedOption2&&t.iceLevel===this.iceLevel).id},watchMore(l){this.productModalElement.hide(),this.$router.push(`/product/${l}`)},...P(M,["addToCart"])},components:{ErrorMessage:E,VForm:T,Field:F}},te={id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},se={class:"modal-dialog modal-dialog-centered modal-md"},oe={class:"modal-content"},de=["src"],le={class:"modal-header d-block"},ne={class:"d-flex justify-content-between flex-wrap"},ae={class:"mb-2"},ce=e("button",{type:"button",class:"btn-close position-absolute top-0 end-0 p-1 m-1 rounded-circle bg-opacity-90 bg-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ie={class:"modal-body"},re={key:0,class:"mb-2 radioBox"},ue=e("p",{class:"mb-0"},"主食選擇：",-1),me=e("p",{class:"invalid-feedback d-block my-0"}," *請選擇您所想要的主食 ",-1),pe={class:"form-check"},_e=["id","value"],he=["for"],fe={key:1,class:"mb-2 radioBox"},be=e("p",{class:"mb-0"},"飲料選擇：",-1),ge=e("p",{class:"invalid-feedback d-block my-0"}," *請問你要喝什麼？ ",-1),ye={class:"form-check"},ve=["id","value"],xe=["for"],Pe={key:2,class:"mb-2 radioBox"},ke=e("p",{class:"mb-0"},"冰冷熱選擇：",-1),we=e("p",{class:"invalid-feedback d-block my-0"}," *請問要冰的？還是熱的？ ",-1),Me=["id","value"],Le=["for"],Ve={class:"mb-3"},Oe=e("label",{for:"message",class:"col-form-label"},[h("餐點備註"),e("br"),e("span",{class:"fs-6"},"我們將盡量配合，未符合期待還請多包容哦，如兩份一樣的餐點要不同做法，請寫在一起。")],-1),Ee={class:"modal-footer justify-content-between"},Te=e("button",{type:"submit",class:"btn btn-secondary"},"放入購物車",-1);function Fe(l,t,c,n,s,r){const b=f("ErrorMessage"),a=f("Field"),_=f("VForm");return i(),u("div",te,[e("div",se,[e("div",oe,[e("img",{class:"productModalImg",src:c.tempProduct.imageUrl},null,8,de),e("div",le,[e("div",ne,[e("h3",null,p(c.tempProduct.mainTitle),1),e("p",null,"$ "+p(c.tempProduct.price),1)]),e("p",ae,p(c.tempProduct.description),1),ce]),e("div",ie,[d(_,{ref:"form",onSubmit:r.addToCartBtn},{default:m(()=>[c.tempProduct.select1?(i(),u("div",re,[ue,d(b,{name:"selectedOption1"},{default:m(()=>[me]),_:1}),d(a,{id:"selectedOption1",name:"selectedOption1",type:"radio",rules:"required",modelValue:s.selectedOption1,"onUpdate:modelValue":t[1]||(t[1]=o=>s.selectedOption1=o)},{default:m(()=>[(i(!0),u(y,null,v(c.tempProduct.select1,o=>(i(),u("div",pe,[k(e("input",{class:"form-check-input",type:"radio",name:"selectedOption1",id:o,value:o,"onUpdate:modelValue":t[0]||(t[0]=g=>s.selectedOption1=g)},null,8,_e),[[w,s.selectedOption1]]),e("label",{class:"form-check-label",for:o},p(o),9,he)]))),256))]),_:1},8,["modelValue"])])):x("",!0),c.tempProduct.select2?(i(),u("div",fe,[be,d(b,{name:"selectedOption2"},{default:m(()=>[ge]),_:1}),d(a,{id:"selectedOption2",name:"selectedOption2",type:"radio",rules:"required",modelValue:s.selectedOption2,"onUpdate:modelValue":t[3]||(t[3]=o=>s.selectedOption2=o)},{default:m(()=>[(i(!0),u(y,null,v(c.tempProduct.select2,o=>(i(),u("div",ye,[k(e("input",{class:"form-check-input",type:"radio",name:"selectedOption2",id:o,value:o,"onUpdate:modelValue":t[2]||(t[2]=g=>s.selectedOption2=g)},null,8,ve),[[w,s.selectedOption2]]),e("label",{class:"form-check-label",for:o},p(o),9,xe)]))),256))]),_:1},8,["modelValue"])])):x("",!0),c.tempProduct.iceLevel?(i(),u("div",Pe,[ke,d(b,{name:"iceLevel"},{default:m(()=>[we]),_:1}),d(a,{id:"iceLevel",name:"iceLevel",type:"radio",rules:"required",modelValue:s.iceLevel,"onUpdate:modelValue":t[5]||(t[5]=o=>s.iceLevel=o)},{default:m(()=>[(i(!0),u(y,null,v(s.drinkType,(o,g)=>(i(),u("div",{class:"form-check",key:g},[k(e("input",{class:"form-check-input",type:"radio",name:"iceLevel",id:o,value:o,"onUpdate:modelValue":t[4]||(t[4]=V=>s.iceLevel=V)},null,8,Me),[[w,s.iceLevel]]),e("label",{class:"form-check-label",for:o},p(o),9,Le)]))),128))]),_:1},8,["modelValue"])])):x("",!0),e("div",Ve,[Oe,d(a,{class:"form-control",name:"message",as:"textarea",id:"message",modelValue:s.message,"onUpdate:modelValue":t[6]||(t[6]=o=>s.message=o),placeholder:"例如：不要小黃瓜、不要沙拉醬、要加番茄醬、一份正常做，一份不要沙拉醬"},null,8,["modelValue"])]),e("div",Ee,[e("button",{type:"button",class:"btn btn-danger",onClick:t[7]||(t[7]=o=>r.watchMore(c.tempProduct.id))}," 看更多 "),Te])]),_:1},8,["onSubmit"])])])])],512)}const Ce=L(ee,[["render",Fe]]),{VITE_APP_URL:Ue,VITE_APP_PATH:je}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"2259buyer",BASE_URL:"/VueTraining_w7/",MODE:"production",DEV:!1,PROD:!0},Se={data(){return{products:[],isLoading:!0,tempProduct:{},productModalElement:""}},methods:{getProduct(){this.$http.get(`${Ue}/v2/api/${je}/products/all`).then(l=>{this.products=l.data.products,this.isLoading=!1}).catch(l=>{this.swalError(l)})},openModal(l){this.tempProduct={...l},this.productModalElement.show()},...P(M,["addToCart"]),...P(U,["swalError","swalToastTopEnd"])},mounted(){document.title="鮮堡漢堡 文化店 | 美味鮮堡",this.getProduct(),this.productModalElement=new j(document.querySelector("#productModal"),{keyboard:!1}),this.productModalElement.hide()},components:{LoadingDesign:C,FrontProductModal:Ce,FrontProductsList:Z}},Ie={class:"w-100 position-relative pb-3"},Be={class:"common-hero container"},$e={class:"hero-banner overflow-hidden rounded rounded-6 rounded-lg-7 mb-3"},Ae={class:"list-unstyled overflow-x-auto productsCatalogNav"},De=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"selectSet"}," 嚴選套餐 ",-1),He=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"hamburger"}," 漢堡 ",-1),Ne=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"toast"}," 現烤吐司 ",-1),Re=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"sandwich"}," 現烤總匯 ",-1),qe=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"snack"}," 中西式點心 ",-1),ze=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"omelet"}," 蛋餅、河粉蛋餅 ",-1);function Ge(l,t,c,n,s,r){const b=f("LoadingDesign"),a=f("ProgressiveImage"),_=f("router-link"),o=f("FrontProductsList"),g=f("FrontProductModal");return i(),u(y,null,[d(b,{"is-loading":s.isLoading},null,8,["is-loading"]),e("main",Ie,[e("section",Be,[e("div",$e,[d(a,{src:"./assets/images/product-hero.jpg",alt:"",class:"img-fluid object-fit-cover object-position-center"})]),e("ul",Ae,[e("li",null,[d(_,{to:"/products#selectSet",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:m(()=>[h("嚴選套餐")]),_:1})]),e("li",null,[d(_,{to:"/products#hamburger",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:m(()=>[h("漢堡")]),_:1})]),e("li",null,[d(_,{to:"/products#toast",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:m(()=>[h("現烤吐司")]),_:1})]),e("li",null,[d(_,{to:"/products#sandwich",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:m(()=>[h("現烤總匯")]),_:1})]),e("li",null,[d(_,{to:"/products#snack",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:m(()=>[h("中西式點心")]),_:1})]),e("li",null,[d(_,{to:"/products#omelet",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:m(()=>[h("蛋餅、河粉蛋餅")]),_:1})])]),De,d(o,{"open-modal":r.openModal,products:s.products,category:"精選套餐"},null,8,["open-modal","products"]),He,d(o,{"open-modal":r.openModal,products:s.products,category:"漢堡"},null,8,["open-modal","products"]),Ne,d(o,{"open-modal":r.openModal,products:s.products,category:"現烤吐司"},null,8,["open-modal","products"]),Re,d(o,{"open-modal":r.openModal,products:s.products,category:"現烤總匯"},null,8,["open-modal","products"]),qe,d(o,{"open-modal":r.openModal,products:s.products,category:"中西式點心"},null,8,["open-modal","products"]),ze,d(o,{"open-modal":r.openModal,products:s.products,category:"蛋餅、河粉蛋餅"},null,8,["open-modal","products"]),d(g,{"temp-product":s.tempProduct,products:s.products,"product-modal-element":s.productModalElement},null,8,["temp-product","products","product-modal-element"])])])],64)}const lt=L(Se,[["render",Ge]]);export{lt as default};
