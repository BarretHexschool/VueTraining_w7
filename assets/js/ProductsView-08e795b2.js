import{c as M}from"./useCartStore-cc08e811.js";import{m as P}from"./index-ffecab2b.js";import{b6 as k,av as g,aj as c,l as r,F as b,at as v,m as e,j as T,k as x,aJ as p,s as m,b3 as y,t as u,b1 as f}from"./_plugin-vue_export-helper-68081c38.js";import{j as w,l as E}from"./runtime-dom.esm-bundler-eb0e3820.js";import{L as O}from"./LoadingDesign-df3df60d.js";import{s as C}from"./useSweetAlertStore-d8729b51.js";import{M as V}from"./modal-07befdcc.js";import"./axios-aba6f0e0.js";import"./vue-router-e29dd812.js";import"./_commonjsHelpers-87174ba5.js";import"./base-component-3c0963ef.js";const $={name:"FrontProductsList",props:["openModal","products","category"],computed:{filteredProducts(){return this.filterProducts(this.products)}},methods:{filterProducts(o){if(this.category==="精選套餐"){const t=o.filter(d=>d.category===this.category);return this.gropuSetProducts(t)}else return o.filter(t=>t.category===this.category)},gropuSetProducts(o){const t={};return o.forEach(d=>{const{mainTitle:n,select1:s,select2:i}=d;t[n]===void 0?t[n]={...d}:(s!==void 0&&(typeof t[n].select1=="string"?t[n].select1!==s&&(t[n].select1=[t[n].select1,s]):this.checkHas(t[n].select1,s)||(t[n].select1=[...t[n].select1,s])),typeof t[n].select2=="string"?t[n].select2!==i&&(t[n].select2=[t[n].select2,i]):this.checkHas(t[n].select2,i)||(t[n].select2=[...t[n].select2,i]))}),t},checkHas(o,t){return o.includes(t)},...P(M,["addToCart"])}},j={class:"list-unstyled mb-1 row row-cols-1 row-cols-md-2"},I={class:"position-relative bg-secondary rounded rounded-3 p-2 porductList"},U=["onClick"],A={class:"d-flex align-items-start align-items-lg-center"},F={class:"box-img me-2 ratio ratio-1x1 product-img"},S={class:"box-word w-100 d-flex flex-column justify-content-between"},B={class:"product-word ls-15"},D={class:"fs-6 ms-lg-2"},H={class:"d-flex justify-content-between align-items-start flex-column flex-lg-row align-content-end align-items-end"},N={class:"product-price text-end mb-1 mb-lg-0"},R={key:0,class:"fs-5"},q={key:1,class:"d-flex flex-column flex-lg-row align-content-end align-items-end me-1"},z={class:"fs-7 me-lg-1"},G={class:"fs-5 fw-bold"},J=e("div",{class:"py-1 px-2 bg-third rounded-5 fs-6 d-none d-lg-flex"},[e("span",{class:"material-symbols-rounded me-1"},"add_box"),m("加入購物車 ")],-1),K=e("div",{class:"d-flex justify-content-center py-1 px-2 mt-2 bg-third rounded-5 fs-6 d-lg-none"},[e("span",{class:"material-symbols-rounded me-1"},"add_box"),m("加入購物車 ")],-1);function Q(o,t,d,n,s,i){const a=g("ProgressiveImage");return c(),r("ul",j,[(c(!0),r(b,null,v(i.filteredProducts,l=>(c(),r("li",{class:"col mb-2","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",key:l.id},[e("div",I,[e("button",{type:"button",class:"btn position-absolute z-2 btn-porduct-add",onClick:_=>d.openModal(l)},null,8,U),e("div",A,[e("div",F,[l.imageUrl?(c(),T(a,{key:0,src:`${l.imageUrl}?width=200`,class:"img-fluid object-top",alt:l.mainTitle},null,8,["src","alt"])):x("",!0)]),e("div",S,[e("div",B,[e("h3",null,p(l.mainTitle),1),e("p",D,p(l.description),1)]),e("div",H,[e("div",N,[l.price==l.origin_price?(c(),r("div",R," $"+p(l.price)+" 元 ",1)):(c(),r("div",q,[e("del",z," 原價：$ "+p(l.origin_price)+" 元",1),e("span",G,"特價： $ "+p(l.price)+" 元",1)]))]),J])])]),K])]))),128))])}const W=k($,[["render",Q]]),X={props:["tempProduct","products","productModalElement"],data(){return{drinkType:["冰","冷(去冰)","溫"],message:"",selectedOption1:"",selectedOption2:"",iceLevel:""}},methods:{addToCartBtn(o,t){t===1&&(o=this.findId()),this.addToCart(o,1,this.message),this.productModalElement.hide(),this.message="",this.selectedOption1="",this.selectedOption2="",this.iceLevel=""},findId(){return this.selectedOption1===""&&(this.selectedOption1=void 0),this.selectedOption2===""&&(this.selectedOption2=void 0),this.iceLevel===""&&(this.iceLevel=void 0),this.products.find(t=>t.mainTitle===this.tempProduct.mainTitle&&t.select1===this.selectedOption1&&t.select2===this.selectedOption2&&t.iceLevel===this.iceLevel).id},watchMore(o){this.productModalElement.hide(),this.$router.push(`/product/${o}`)},...P(M,["addToCart"])}},Y={id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},Z={class:"modal-dialog modal-dialog-centered modal-md"},ee={class:"modal-content"},te=["src"],se={class:"modal-header d-block"},oe={class:"d-flex justify-content-between flex-wrap"},de={class:"mb-2"},le=e("button",{type:"button",class:"btn-close position-absolute top-0 end-0 p-1 m-1 rounded-circle bg-opacity-75 bg-danger","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ne={class:"modal-body"},ae={key:0,class:"mb-2 radioBox"},ce=e("p",{class:"mb-0"}," 主食選擇：",-1),ie=["value"],re={key:1,class:"mb-2"},ue=e("p",{class:"mb-0"}," 飲料選擇：",-1),me=["value"],pe={key:2,class:"mb-2"},_e=e("p",{class:"mb-0"}," 冰冷熱選擇：",-1),he=["value"],fe={class:"mb-3"},ge=e("label",{for:"message",class:"col-form-label"},[m("餐點備註"),e("br"),e("span",{class:"fs-6"},"我們將盡量配合，未符合期待還請多包容哦，如兩份一樣的餐點要不同做法，請寫在一起。")],-1),be={class:"modal-footer justify-content-between"};function ye(o,t,d,n,s,i){return c(),r("div",Y,[e("div",Z,[e("div",ee,[e("img",{class:"productModalImg",src:d.tempProduct.imageUrl},null,8,te),e("div",se,[e("div",oe,[e("h3",null,p(d.tempProduct.mainTitle),1),e("p",null,"$ "+p(d.tempProduct.price),1)]),e("p",de,p(d.tempProduct.description),1),le]),e("div",ne,[e("form",null,[d.tempProduct.select1?(c(),r("div",ae,[ce,(c(!0),r(b,null,v(d.tempProduct.select1,a=>(c(),r("div",{key:a},[e("label",null,[y(e("input",{type:"radio",value:a,"onUpdate:modelValue":t[0]||(t[0]=l=>s.selectedOption1=l)},null,8,ie),[[w,s.selectedOption1]]),m(" "+p(a),1)])]))),128))])):x("",!0),d.tempProduct.select2?(c(),r("div",re,[ue,(c(!0),r(b,null,v(d.tempProduct.select2,a=>(c(),r("div",{key:a},[e("label",null,[y(e("input",{type:"radio",value:a,"onUpdate:modelValue":t[1]||(t[1]=l=>s.selectedOption2=l)},null,8,me),[[w,s.selectedOption2]]),m(" "+p(a),1)])]))),128))])):x("",!0),d.tempProduct.iceLevel?(c(),r("div",pe,[_e,(c(!0),r(b,null,v(s.drinkType,(a,l)=>(c(),r("div",{key:l},[e("label",null,[y(e("input",{type:"radio",value:a,"onUpdate:modelValue":t[2]||(t[2]=_=>s.iceLevel=_)},null,8,he),[[w,s.iceLevel]]),m(" "+p(a),1)])]))),128))])):x("",!0),e("div",fe,[ge,y(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=a=>s.message=a),class:"form-control",id:"message",placeholder:"例如：不要小黃瓜、不要沙拉醬、要加番茄醬、一份正常做，一份不要沙拉醬"},null,512),[[E,s.message]])])])]),e("div",be,[e("button",{type:"button",class:"btn btn-danger",onClick:t[4]||(t[4]=a=>i.watchMore(d.tempProduct.id))},"看更多"),e("button",{type:"button",class:"btn btn-secondary",onClick:t[5]||(t[5]=a=>i.addToCartBtn(d.tempProduct.id,d.tempProduct.is_select))},"放入購物車")])])])],512)}const ve=k(X,[["render",ye]]),{VITE_APP_URL:xe,VITE_APP_PATH:Pe}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"2259buyer",BASE_URL:"/VueTraining_w7/",MODE:"production",DEV:!1,PROD:!0},we={data(){return{products:[],isLoading:!0,tempProduct:{},productModalElement:""}},methods:{getProduct(){this.$http.get(`${xe}/v2/api/${Pe}/products/all`).then(o=>{this.products=o.data.products,this.isLoading=!1}).catch(o=>{this.swalError(o)})},openModal(o){this.tempProduct={...o},this.productModalElement.show()},...P(M,["addToCart"]),...P(C,["swalError","swalToastTopEnd"])},mounted(){document.title="鮮堡漢堡 文化店 | 美味鮮堡",this.getProduct(),this.productModalElement=new V(document.querySelector("#productModal"),{keyboard:!1}),this.productModalElement.hide()},components:{LoadingDesign:O,FrontProductModal:ve,FrontProductsList:W}},Me={class:"w-100 position-relative pb-3"},ke={class:"common-hero container"},Le={class:"hero-banner overflow-hidden rounded rounded-6 rounded-lg-7 mb-3"},Te={class:"list-unstyled overflow-x-auto productsCatalogNav"},Ee=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"selectSet"}," 嚴選套餐 ",-1),Oe=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"hamburger"}," 漢堡 ",-1),Ce=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"toast"}," 現烤吐司 ",-1),Ve=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"sandwich"}," 現烤總匯 ",-1),$e=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"snack"}," 中西式點心 ",-1),je=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"omelet"}," 蛋餅、河粉蛋餅 ",-1);function Ie(o,t,d,n,s,i){const a=g("LoadingDesign"),l=g("ProgressiveImage"),_=g("router-link"),h=g("FrontProductsList"),L=g("FrontProductModal");return c(),r(b,null,[u(a,{"is-loading":s.isLoading},null,8,["is-loading"]),e("main",Me,[e("section",ke,[e("div",Le,[u(l,{src:"./assets/images/product-hero.jpg",alt:"",class:"img-fluid object-fit-cover object-position-center"})]),e("ul",Te,[e("li",null,[u(_,{to:"/products#selectSet",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:f(()=>[m("嚴選套餐")]),_:1})]),e("li",null,[u(_,{to:"/products#hamburger",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:f(()=>[m("漢堡")]),_:1})]),e("li",null,[u(_,{to:"/products#toast",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:f(()=>[m("現烤吐司")]),_:1})]),e("li",null,[u(_,{to:"/products#sandwich",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:f(()=>[m("現烤總匯")]),_:1})]),e("li",null,[u(_,{to:"/products#snack",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:f(()=>[m("中西式點心")]),_:1})]),e("li",null,[u(_,{to:"/products#omelet",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:f(()=>[m("蛋餅、河粉蛋餅")]),_:1})])]),Ee,u(h,{"open-modal":i.openModal,products:s.products,category:"精選套餐"},null,8,["open-modal","products"]),Oe,u(h,{"open-modal":i.openModal,products:s.products,category:"漢堡"},null,8,["open-modal","products"]),Ce,u(h,{"open-modal":i.openModal,products:s.products,category:"現烤吐司"},null,8,["open-modal","products"]),Ve,u(h,{"open-modal":i.openModal,products:s.products,category:"現烤總匯"},null,8,["open-modal","products"]),$e,u(h,{"open-modal":i.openModal,products:s.products,category:"中西式點心"},null,8,["open-modal","products"]),je,u(h,{"open-modal":i.openModal,products:s.products,category:"蛋餅、河粉蛋餅"},null,8,["open-modal","products"]),u(L,{"temp-product":s.tempProduct,products:s.products,"product-modal-element":s.productModalElement},null,8,["temp-product","products","product-modal-element"])])])],64)}const Ge=k(we,[["render",Ie]]);export{Ge as default};
