import{c as O}from"./useCartStore-43e3e00a.js";import{u as P}from"./useFrontProducts-c521bb7b.js";import{a as V,m as v}from"./index-6ca8f258.js";import{b6 as F,av as m,aj as d,l,F as _,at as b,m as e,j as $,k,aJ as a,s as x,t as c,b1 as p,b3 as L}from"./_plugin-vue_export-helper-68081c38.js";import{E,a as C,F as j}from"./vee-validate.esm-51f435e3.js";import{j as M}from"./runtime-dom.esm-bundler-eb0e3820.js";import{L as S}from"./LoadingDesign-df3df60d.js";import{s as U}from"./useSweetAlertStore-fda7acd7.js";import{M as B}from"./modal-07befdcc.js";import"./axios-aba6f0e0.js";import"./vue-router-e29dd812.js";import"./_commonjsHelpers-87174ba5.js";import"./base-component-3c0963ef.js";const I={name:"FrontProductsList",props:["openModal","products","category"],computed:{filteredProducts(){return this.groupProducts.filter(r=>r.category===this.category)},...V(P,["groupProducts"])},methods:{...v(O,["addToCart"])}},D={class:"list-unstyled mb-1 row row-cols-1 row-cols-md-2"},N={class:"position-relative bg-secondary rounded rounded-3 p-2 porductList"},q=["onClick"],R={class:"d-flex flex-column justify-content-between h-100"},A={class:"d-flex align-items-start align-items-lg-center h-100"},z={class:"box-img me-2 ratio ratio-1x1 product-img"},J={class:"box-word w-100 d-flex flex-column justify-content-between"},G={class:"product-word ls-15"},H={class:"fs-6 ms-lg-2"},K={class:"d-flex justify-content-between align-items-start flex-column flex-lg-row align-content-end align-items-end"},Q={class:"product-price text-end mb-1 mb-lg-0"},W={key:0,class:"fs-5"},X={key:1,class:"d-flex flex-column flex-lg-row align-content-end align-items-end me-1"},Y={class:"fs-7 me-lg-1"},Z={class:"fs-5 fw-bold"},ee=e("div",{class:"py-1 px-2 bg-third rounded-5 fs-6 d-none d-lg-flex"},[e("span",{class:"material-symbols-rounded me-1"},"add_box"),x("加入購物車 ")],-1),te=e("div",{class:"d-flex justify-content-center py-1 px-2 mt-2 bg-third rounded-5 fs-6 d-lg-none"},[e("span",{class:"material-symbols-rounded me-1"},"add_box"),x("加入購物車 ")],-1);function se(r,t,i,T,o,g){const h=m("ProgressiveImage");return d(),l("ul",D,[(d(!0),l(_,null,b(g.filteredProducts,n=>(d(),l("li",{class:"col mb-2","data-aos":"fade-up","data-aos-easing":"liner",key:n.id},[e("div",N,[e("button",{type:"button",class:"btn position-absolute z-2 btn-porduct-add",onClick:y=>i.openModal(n)},null,8,q),e("div",R,[e("div",A,[e("div",z,[n.imageUrl?(d(),$(h,{key:0,src:`${n.imageUrl}?width=200`,class:"img-fluid object-top",alt:n.mainTitle},null,8,["src","alt"])):k("",!0)]),e("div",J,[e("div",G,[e("h3",null,a(n.mainTitle),1),e("p",H,a(n.description),1)]),e("div",K,[e("div",Q,[n.price==n.origin_price?(d(),l("div",W," $"+a(n.price)+" 元 ",1)):(d(),l("div",X,[e("del",Y," 原價：$ "+a(n.origin_price)+" 元",1),e("span",Z,"特價： $ "+a(n.price)+" 元",1)]))]),ee])])]),te])])]))),128))])}const oe=F(I,[["render",se]]),de={props:["tempProduct","productModalElement"],data(){return{drinkType:["冰","冷(去冰)","溫"],message:"",selectedOption1:"",selectedOption2:"",iceLevel:"",id:this.tempProduct.id,isSelect:this.tempProduct.is_select}},methods:{addToCartBtn(r){let t=this.tempProduct.id;this.tempProduct.is_select===1&&(t=this.findId()),this.addToCart(t,1,this.message),this.productModalElement.hide(),this.$refs.form.resetForm()},findId(){return this.selectedOption1===""&&(this.selectedOption1=void 0),this.selectedOption2===""&&(this.selectedOption2=void 0),this.iceLevel===""&&(this.iceLevel=void 0),this.products.find(t=>t.mainTitle===this.tempProduct.mainTitle&&t.select1===this.selectedOption1&&t.select2===this.selectedOption2&&t.iceLevel===this.iceLevel).id},watchMore(r){this.productModalElement.hide(),this.$router.push(`/product/${r}`)},...v(O,["addToCart"])},computed:{...V(P,["products"])},components:{ErrorMessage:E,VForm:C,Field:j}},le={id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},ne={class:"modal-dialog modal-dialog-centered modal-md"},ie={class:"modal-content"},ce=["src"],ae={class:"modal-header d-block"},re={class:"d-flex justify-content-between flex-wrap"},me={class:"mb-2"},ue=e("button",{type:"button",class:"btn-close position-absolute top-0 end-0 p-1 m-1 rounded-circle bg-opacity-90 bg-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),pe={class:"modal-body"},_e={key:0,class:"mb-2 radioBox"},he=e("p",{class:"mb-0"},"主食選擇：",-1),fe=e("p",{class:"invalid-feedback d-block my-0"}," *請選擇您所想要的主食 ",-1),ge={class:"form-check"},be=["id","value"],ve=["for"],ye={key:1,class:"mb-2 radioBox"},ke=e("p",{class:"mb-0"},"飲料選擇：",-1),Pe=e("p",{class:"invalid-feedback d-block my-0"}," *請問你要喝什麼？ ",-1),xe={class:"form-check"},we=["id","value"],Le=["for"],Me={key:2,class:"mb-2 radioBox"},Oe=e("p",{class:"mb-0"},"冰冷熱選擇：",-1),Ve=e("p",{class:"invalid-feedback d-block my-0"}," *請問要冰的？還是熱的？ ",-1),Fe=["id","value"],Te=["for"],$e={class:"mb-3"},Ee=e("label",{for:"message",class:"col-form-label"},[x("餐點備註"),e("br"),e("span",{class:"fs-6"},"我們將盡量配合，未符合期待還請多包容哦，如兩份一樣的餐點要不同做法，請寫在一起。")],-1),Ce={class:"modal-footer justify-content-between"},je=e("button",{type:"submit",class:"btn btn-secondary"},"放入購物車",-1);function Se(r,t,i,T,o,g){const h=m("ErrorMessage"),n=m("Field"),y=m("VForm");return d(),l("div",le,[e("div",ne,[e("div",ie,[e("img",{class:"productModalImg",src:`${i.tempProduct.imageUrl}?width=450`},null,8,ce),e("div",ae,[e("div",re,[e("h3",null,a(i.tempProduct.mainTitle),1),e("p",null,"$ "+a(i.tempProduct.price),1)]),e("p",me,a(i.tempProduct.description),1),ue]),e("div",pe,[c(y,{ref:"form",onSubmit:g.addToCartBtn},{default:p(()=>[i.tempProduct.select1?(d(),l("div",_e,[he,c(h,{name:"selectedOption1"},{default:p(()=>[fe]),_:1}),c(n,{id:"selectedOption1",name:"selectedOption1",type:"radio",rules:"required",modelValue:o.selectedOption1,"onUpdate:modelValue":t[1]||(t[1]=s=>o.selectedOption1=s)},{default:p(()=>[(d(!0),l(_,null,b(i.tempProduct.select1,s=>(d(),l("div",ge,[L(e("input",{class:"form-check-input",type:"radio",name:"selectedOption1",id:s,value:s,"onUpdate:modelValue":t[0]||(t[0]=f=>o.selectedOption1=f)},null,8,be),[[M,o.selectedOption1]]),e("label",{class:"form-check-label",for:s},a(s),9,ve)]))),256))]),_:1},8,["modelValue"])])):k("",!0),i.tempProduct.select2?(d(),l("div",ye,[ke,c(h,{name:"selectedOption2"},{default:p(()=>[Pe]),_:1}),c(n,{id:"selectedOption2",name:"selectedOption2",type:"radio",rules:"required",modelValue:o.selectedOption2,"onUpdate:modelValue":t[3]||(t[3]=s=>o.selectedOption2=s)},{default:p(()=>[(d(!0),l(_,null,b(i.tempProduct.select2,s=>(d(),l("div",xe,[L(e("input",{class:"form-check-input",type:"radio",name:"selectedOption2",id:s,value:s,"onUpdate:modelValue":t[2]||(t[2]=f=>o.selectedOption2=f)},null,8,we),[[M,o.selectedOption2]]),e("label",{class:"form-check-label",for:s},a(s),9,Le)]))),256))]),_:1},8,["modelValue"])])):k("",!0),i.tempProduct.iceLevel?(d(),l("div",Me,[Oe,c(h,{name:"iceLevel"},{default:p(()=>[Ve]),_:1}),c(n,{id:"iceLevel",name:"iceLevel",type:"radio",rules:"required",modelValue:o.iceLevel,"onUpdate:modelValue":t[5]||(t[5]=s=>o.iceLevel=s)},{default:p(()=>[(d(!0),l(_,null,b(o.drinkType,(s,f)=>(d(),l("div",{class:"form-check",key:f},[L(e("input",{class:"form-check-input",type:"radio",name:"iceLevel",id:s,value:s,"onUpdate:modelValue":t[4]||(t[4]=u=>o.iceLevel=u)},null,8,Fe),[[M,o.iceLevel]]),e("label",{class:"form-check-label",for:s},a(s),9,Te)]))),128))]),_:1},8,["modelValue"])])):k("",!0),e("div",$e,[Ee,c(n,{class:"form-control",name:"message",as:"textarea",id:"message",modelValue:o.message,"onUpdate:modelValue":t[6]||(t[6]=s=>o.message=s),placeholder:"例如：不要小黃瓜、不要沙拉醬、要加番茄醬、一份正常做，一份不要沙拉醬"},null,8,["modelValue"])]),e("div",Ce,[e("button",{type:"button",class:"btn btn-danger",onClick:t[7]||(t[7]=s=>g.watchMore(i.tempProduct.id))}," 看更多 "),je])]),_:1},8,["onSubmit"])])])])],512)}const Ue=F(de,[["render",Se]]),Be={data(){return{tempProduct:{},productModalElement:"",categorys:[{english:"selectSet",chinese:"精選套餐"},{english:"hamburger",chinese:"漢堡"},{english:"toast",chinese:"現烤吐司"},{english:"sandwich",chinese:"現烤總匯"},{english:"snack",chinese:"中西式點心"},{english:"omelet",chinese:"蛋餅、河粉蛋餅"}]}},methods:{openModal(r){this.tempProduct={...r},this.productModalElement.show()},...v(P,["loadingStatue"]),...v(O,["addToCart"]),...v(U,["swalError","swalToastTopEnd"])},computed:{...V(P,["products","groupProducts","isLoading"])},mounted(){document.title="鮮堡漢堡 文化店 | 美味鮮堡",this.productModalElement=new B(document.querySelector("#productModal"),{keyboard:!1}),this.productModalElement.hide(),this.loadingStatue(!1)},components:{LoadingDesign:S,FrontProductModal:Ue,FrontProductsList:oe}},Ie={class:"w-100 position-relative pb-3"},De={class:"common-hero container"},Ne={class:"hero-banner overflow-hidden rounded rounded-6 rounded-lg-7 mb-3"},qe={class:"list-unstyled overflow-x-auto productsCatalogNav"},Re=["id"];function Ae(r,t,i,T,o,g){const h=m("LoadingDesign"),n=m("ProgressiveImage"),y=m("RouterLink"),s=m("FrontProductsList"),f=m("FrontProductModal");return d(),l(_,null,[c(h,{"is-loading":r.isLoading},null,8,["is-loading"]),e("main",Ie,[e("section",De,[e("div",Ne,[c(n,{src:"./assets/images/product-hero.jpg",alt:"",class:"img-fluid object-fit-cover object-position-center"})]),e("ul",qe,[(d(!0),l(_,null,b(o.categorys,(u,w)=>(d(),l("li",{key:w},[c(y,{to:`/products#${u.english}`,class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:p(()=>[x(a(u.chinese),1)]),_:2},1032,["to"])]))),128))]),(d(!0),l(_,null,b(o.categorys,(u,w)=>(d(),l(_,{key:w},[e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:u.english},a(u.chinese),9,Re),c(s,{"open-modal":g.openModal,products:r.products,category:u.chinese},null,8,["open-modal","products","category"])],64))),128)),c(f,{"temp-product":o.tempProduct,"product-modal-element":o.productModalElement},null,8,["temp-product","product-modal-element"])])])],64)}const ot=F(Be,[["render",Ae]]);export{ot as default};
