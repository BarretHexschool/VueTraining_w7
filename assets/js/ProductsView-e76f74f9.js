import{c as M}from"./useCartStore-f21d557d.js";import{m as x}from"./index-7b7a7097.js";import{b6 as k,av as g,aj as i,l as u,F as b,at as v,m as e,t as r,aJ as p,s as m,b3 as y,k as P,b1 as f}from"./_plugin-vue_export-helper-68081c38.js";import{j as w,l as T}from"./runtime-dom.esm-bundler-eb0e3820.js";import{L as E}from"./LoadingDesign-df3df60d.js";import{s as O}from"./useSweetAlertStore-db95a1f6.js";import{M as C}from"./modal-07befdcc.js";import"./axios-aba6f0e0.js";import"./vue-router-e29dd812.js";import"./_commonjsHelpers-87174ba5.js";import"./base-component-3c0963ef.js";const V={name:"FrontProductsList",props:["openModal","products","category"],computed:{filteredProducts(){return this.filterProducts(this.products)}},methods:{filterProducts(o){if(this.category==="精選套餐"){const t=o.filter(d=>d.category===this.category);return this.gropuSetProducts(t)}else return o.filter(t=>t.category===this.category)},gropuSetProducts(o){const t={};return o.forEach(d=>{const{mainTitle:l,select1:s,select2:c}=d;t[l]===void 0?t[l]={...d}:(s!==void 0&&(typeof t[l].select1=="string"?t[l].select1!==s&&(t[l].select1=[t[l].select1,s]):this.checkHas(t[l].select1,s)||(t[l].select1=[...t[l].select1,s])),typeof t[l].select2=="string"?t[l].select2!==c&&(t[l].select2=[t[l].select2,c]):this.checkHas(t[l].select2,c)||(t[l].select2=[...t[l].select2,c]))}),t},checkHas(o,t){return o.includes(t)},...x(M,["addToCart"])}},$={class:"list-unstyled mb-1 row row-cols-1 row-cols-md-2"},j={class:"position-relative bg-secondary rounded rounded-3 p-2 porductList"},I=["onClick"],A={class:"d-flex align-items-start align-items-lg-center"},F={class:"box-img me-2 ratio ratio-1x1 product-img"},S={class:"box-word w-100 d-flex flex-column justify-content-between"},U={class:"product-word ls-15"},D={class:"fs-6 ms-lg-2"},B={class:"d-flex justify-content-between align-items-start flex-column flex-lg-row align-content-end align-items-end"},H={class:"product-price text-end mb-1 mb-lg-0"},N={key:0,class:"fs-5"},R={key:1,class:"d-flex flex-column flex-lg-row align-content-end align-items-end me-1"},q={class:"fs-7 me-lg-1"},z={class:"fs-5 fw-bold"},G=e("div",{class:"py-1 px-2 bg-third rounded-5 fs-6 d-none d-lg-flex"},[e("span",{class:"material-symbols-rounded me-1"},"add_box"),m("加入購物車 ")],-1),J=e("div",{class:"d-flex justify-content-center py-1 px-2 mt-2 bg-third rounded-5 fs-6 d-lg-none"},[e("span",{class:"material-symbols-rounded me-1"},"add_box"),m("加入購物車 ")],-1);function K(o,t,d,l,s,c){const n=g("ProgressiveImage");return i(),u("ul",$,[(i(!0),u(b,null,v(c.filteredProducts,a=>(i(),u("li",{class:"col mb-2","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",key:a.id},[e("div",j,[e("button",{type:"button",class:"btn position-absolute z-2 btn-porduct-add",onClick:_=>d.openModal(a)},null,8,I),e("div",A,[e("div",F,[r(n,{src:`${a.imageUrl}?width=200`,class:"img-fluid object-top",alt:"{{ product.mainTitle }}"},null,8,["src"])]),e("div",S,[e("div",U,[e("h3",null,p(a.mainTitle),1),e("p",D,p(a.description),1)]),e("div",B,[e("div",H,[a.price==a.origin_price?(i(),u("div",N," $"+p(a.price)+" 元 ",1)):(i(),u("div",R,[e("del",q," 原價：$ "+p(a.origin_price)+" 元",1),e("span",z,"特價： $ "+p(a.price)+" 元",1)]))]),G])])]),J])]))),128))])}const Q=k(V,[["render",K]]),W={props:["tempProduct","products","productModalElement"],data(){return{drinkType:["冰","冷(去冰)","熱"],message:"",selectedOption1:"",selectedOption2:"",iceLevel:""}},methods:{addToCartBtn(o,t){t===1&&(o=this.findId()),this.addToCart(o,1,this.message),this.productModalElement.hide(),this.message="",this.selectedOption1="",this.selectedOption2="",this.iceLevel=""},findId(){return this.selectedOption1===""&&(this.selectedOption1=void 0),this.selectedOption2===""&&(this.selectedOption2=void 0),this.iceLevel===""&&(this.iceLevel=void 0),this.products.find(t=>t.mainTitle===this.tempProduct.mainTitle&&t.select1===this.selectedOption1&&t.select2===this.selectedOption2&&t.iceLevel===this.iceLevel).id},watchMore(o){this.productModalElement.hide(),this.$router.push(`/product/${o}`)},...x(M,["addToCart"])}},X={id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},Y={class:"modal-dialog modal-dialog-centered modal-md"},Z={class:"modal-content"},ee=["src"],te={class:"modal-header d-block"},se={class:"d-flex justify-content-between flex-wrap"},oe={class:"mb-2"},de=e("button",{type:"button",class:"btn-close position-absolute top-0 end-0 p-1 m-1 rounded-circle bg-opacity-75 bg-danger","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),le={class:"modal-body"},ne={key:0,class:"mb-2 radioBox"},ae=e("p",{class:"mb-0"}," 主食選擇：",-1),ce=["value"],re={key:1,class:"mb-2"},ie=e("p",{class:"mb-0"}," 飲料選擇：",-1),ue=["value"],me={key:2,class:"mb-2"},pe=e("p",{class:"mb-0"}," 冰冷熱選擇：",-1),_e=["value"],he={class:"mb-3"},fe=e("label",{for:"message",class:"col-form-label"},[m("餐點備註"),e("br"),e("span",{class:"fs-6"},"我們將盡量配合，未符合期待還請多包容哦，如兩份一樣的餐點要不同做法，請寫在一起。")],-1),ge={class:"modal-footer justify-content-between"};function be(o,t,d,l,s,c){return i(),u("div",X,[e("div",Y,[e("div",Z,[e("img",{class:"productModalImg",src:d.tempProduct.imageUrl},null,8,ee),e("div",te,[e("div",se,[e("h3",null,p(d.tempProduct.mainTitle),1),e("p",null,"$ "+p(d.tempProduct.price),1)]),e("p",oe,p(d.tempProduct.description),1),de]),e("div",le,[e("form",null,[d.tempProduct.select1?(i(),u("div",ne,[ae,(i(!0),u(b,null,v(d.tempProduct.select1,n=>(i(),u("div",{key:n},[e("label",null,[y(e("input",{type:"radio",value:n,"onUpdate:modelValue":t[0]||(t[0]=a=>s.selectedOption1=a)},null,8,ce),[[w,s.selectedOption1]]),m(" "+p(n),1)])]))),128))])):P("",!0),d.tempProduct.select2?(i(),u("div",re,[ie,(i(!0),u(b,null,v(d.tempProduct.select2,n=>(i(),u("div",{key:n},[e("label",null,[y(e("input",{type:"radio",value:n,"onUpdate:modelValue":t[1]||(t[1]=a=>s.selectedOption2=a)},null,8,ue),[[w,s.selectedOption2]]),m(" "+p(n),1)])]))),128))])):P("",!0),d.tempProduct.iceLevel?(i(),u("div",me,[pe,(i(!0),u(b,null,v(s.drinkType,(n,a)=>(i(),u("div",{key:a},[e("label",null,[y(e("input",{type:"radio",value:n,"onUpdate:modelValue":t[2]||(t[2]=_=>s.iceLevel=_)},null,8,_e),[[w,s.iceLevel]]),m(" "+p(n),1)])]))),128))])):P("",!0),e("div",he,[fe,y(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=n=>s.message=n),class:"form-control",id:"message",placeholder:"例如：不要小黃瓜、不要沙拉醬、要加番茄醬、一份正常做，一份不要沙拉醬"},null,512),[[T,s.message]])])])]),e("div",ge,[e("button",{type:"button",class:"btn btn-danger",onClick:t[4]||(t[4]=n=>c.watchMore(d.tempProduct.id))},"看更多"),e("button",{type:"button",class:"btn btn-secondary",onClick:t[5]||(t[5]=n=>c.addToCartBtn(d.tempProduct.id,d.tempProduct.is_select))},"放入購物車")])])])],512)}const ye=k(W,[["render",be]]),{VITE_APP_URL:ve,VITE_APP_PATH:xe}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"2259buyer",BASE_URL:"/VueTraining_w7/",MODE:"production",DEV:!1,PROD:!0},Pe={data(){return{products:[],isLoading:!0,tempProduct:{},productModalElement:""}},methods:{getProduct(){this.$http.get(`${ve}/v2/api/${xe}/products/all`).then(o=>{this.products=o.data.products,this.isLoading=!1}).catch(o=>{this.swalError(o)})},openModal(o){this.tempProduct={...o},this.productModalElement.show()},...x(M,["addToCart"]),...x(O,["swalError","swalToastTopEnd"])},mounted(){document.title="鮮堡漢堡 文化店 | 美味鮮堡",this.getProduct(),this.productModalElement=new C(document.querySelector("#productModal"),{keyboard:!1}),this.productModalElement.hide()},components:{LoadingDesign:E,FrontProductModal:ye,FrontProductsList:Q}},we={class:"w-100 position-relative pb-3"},Me={class:"common-hero container"},ke={class:"hero-banner overflow-hidden rounded rounded-6 rounded-lg-7 mb-3"},Le={class:"list-unstyled overflow-x-auto productsCatalogNav"},Te=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"selectSet"}," 嚴選套餐 ",-1),Ee=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"hamburger"}," 漢堡 ",-1),Oe=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"toast"}," 現烤吐司 ",-1),Ce=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"sandwich"}," 現烤總匯 ",-1),Ve=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"snack"}," 中西式點心 ",-1),$e=e("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"omelet"}," 蛋餅、河粉蛋餅 ",-1);function je(o,t,d,l,s,c){const n=g("LoadingDesign"),a=g("ProgressiveImage"),_=g("router-link"),h=g("FrontProductsList"),L=g("FrontProductModal");return i(),u(b,null,[r(n,{"is-loading":s.isLoading},null,8,["is-loading"]),e("main",we,[e("section",Me,[e("div",ke,[r(a,{src:"./assets/images/product-hero.jpg",alt:"",class:"img-fluid object-fit-cover object-position-center"})]),e("ul",Le,[e("li",null,[r(_,{to:"/products#selectSet",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:f(()=>[m("嚴選套餐")]),_:1})]),e("li",null,[r(_,{to:"/products#hamburger",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:f(()=>[m("漢堡")]),_:1})]),e("li",null,[r(_,{to:"/products#toast",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:f(()=>[m("現烤吐司")]),_:1})]),e("li",null,[r(_,{to:"/products#sandwich",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:f(()=>[m("現烤總匯")]),_:1})]),e("li",null,[r(_,{to:"/products#snack",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:f(()=>[m("中西式點心")]),_:1})]),e("li",null,[r(_,{to:"/products#omelet",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:f(()=>[m("蛋餅、河粉蛋餅")]),_:1})])]),Te,r(h,{"open-modal":c.openModal,products:s.products,category:"精選套餐"},null,8,["open-modal","products"]),Ee,r(h,{"open-modal":c.openModal,products:s.products,category:"漢堡"},null,8,["open-modal","products"]),Oe,r(h,{"open-modal":c.openModal,products:s.products,category:"現烤三明治"},null,8,["open-modal","products"]),Ce,r(h,{"open-modal":c.openModal,products:s.products,category:"現烤總匯"},null,8,["open-modal","products"]),Ve,r(h,{"open-modal":c.openModal,products:s.products,category:"中西式點心"},null,8,["open-modal","products"]),$e,r(h,{"open-modal":c.openModal,products:s.products,category:"蛋餅、河粉蛋餅"},null,8,["open-modal","products"]),r(L,{"temp-product":s.tempProduct,products:s.products,"product-modal-element":s.productModalElement},null,8,["temp-product","products","product-modal-element"])])])],64)}const ze=k(Pe,[["render",je]]);export{ze as default};
