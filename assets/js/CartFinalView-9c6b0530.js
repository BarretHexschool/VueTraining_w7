import{s as x}from"./useSweetAlertStore-2787d6df.js";import{u as _}from"./useFrontProducts-80865711.js";import{F as w}from"./FrontCartBar-3a09fd11.js";import{m as h,a as g}from"./index-dcc512cf.js";import{b6 as y,av as m,aj as c,l as i,m as t,t as u,b1 as k,s as a,aJ as e,F as v,at as D,k as p}from"./_plugin-vue_export-helper-68081c38.js";import"./axios-aba6f0e0.js";import"./vue-router-e29dd812.js";const{VITE_APP_URL:S,VITE_APP_PATH:E}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"2259buyer",BASE_URL:"/VueTraining_w7/",MODE:"production",DEV:!1,PROD:!0},P={data(){return{order:{}}},methods:{getOrderData(){this.loadingStatue(!0);const{id:n}=this.$route.params;this.$http.get(`${S}/v2/api/${E}/order/${n}`).then(o=>{this.order=o.data.order,this.loadingStatue(!1)}).catch(o=>{this.swalError(o)})},copyLink(){const n=window.location.href;navigator.clipboard.writeText(n),this.swalSuccess(`訂單連結已複製 \r
 可以跟大家分享囉 :)`)},mobileShareBtn(){const o=`這是鮮堡漢堡的訂單 \r
訂購日期：${this.$moment(new Date(this.order.create_at*1e3)).format("YYYY-MM-DD HH:mm")}\r
訂單連結：`;navigator.share?navigator.share({title:"鮮堡漢堡，位於新北板橋新埔的早餐店",text:o,url:window.location.href}).then(()=>{}).catch(l=>{this.swalError(l)}):this.copyLink()},...h(x,["swalError","swalToastTopEnd","swalSuccess"]),...h(_,["loadingStatue"])},computed:{...g(_,["isLoading"])},components:{FrontCartBar:w},mounted(){this.getOrderData(),document.title="鮮堡漢堡 文化店 | 完成點餐"}},T={class:"w-100 position-relative z-2"},V={class:"common-hero container"},L={key:0,class:"container"},A=t("h2",{class:"ls-2 text-sm-start text-center mb-3"}," 您的訂單已送出，正在製作中！ ",-1),B={class:"row g-1 mb-2"},C={class:"col d-none d-lg-block"},Y={class:"col"},F={class:"col col-4 d-block d-lg-none"},H=t("span",{class:"d-flex align-items-center justify-content-center"},[t("span",{class:"material-symbols-rounded me-1"}," ios_share "),a("分享訂單 ")],-1),R=[H],j={class:"fs-4 ls-15 mb-3"},M=t("br",null,null,-1),I=t("span",{class:"text-danger"},[a("有任何問題請直接來電"),t("a",{class:"text-danger text-decoration-none",href:"tel:+886222590910"},"02-22590910")],-1),N=t("br",null,null,-1),O=t("br",null,null,-1),U={class:"list-unstyled fs-5 mb-3"},q={class:"mb-1"},z={class:"mb-1"},J={class:"mb-1"},$={class:"mb-1"},G={class:"mb-1"},K={class:"pb-6"},Q=t("h4",{class:"text-center text-lg-start fw-bold mb-1"},"訂購商品清單",-1),W={class:"table align-middle w-100 border-secondary"},X=t("thead",null,[t("tr",{class:"w-100"},[t("th",null,"品名"),t("th",{class:"text-nowrap text-center"},"單價"),t("th",{class:"text-nowrap text-center"},"數量"),t("th",{class:"text-nowrap text-center"},"小計")])],-1),Z={class:"w-100"},tt={class:"text-center"},et={class:"text-center"},st={class:"text-center"},ot={class:"mb-2"},rt=t("td",{colspan:"3",class:"text-end border-0"},"總計",-1),nt={class:"text-end border-0"},at={colspan:"4",class:"border-0"};function ct(n,o,l,it,s,d){const b=m("FrontCartBar"),f=m("RouterLink");return c(),i("main",T,[t("section",V,[u(b,{currentState:"餐點準備中"})]),s.order.user?(c(),i("section",L,[A,t("div",B,[t("div",C,[t("button",{type:"button",class:"btn btn-third w-100 h-100 d-flex align-items-center justify-content-center",onClick:o[0]||(o[0]=r=>d.copyLink())},"複製訂單網址")]),t("div",Y,[u(f,{to:"/home",class:"btn btn-third w-100 h-100 d-flex align-items-center justify-content-center"},{default:k(()=>[a("繼續看更多")]),_:1})]),t("div",F,[t("button",{type:"button",class:"btn btn-third w-100 h-100 d-flex align-items-center justify-content-center",onClick:o[1]||(o[1]=r=>d.mobileShareBtn())},R)])]),t("p",j,[a(" 感謝您的選購，我們將立即為您準備餐點。"),M,I,N,a(" 同時告知您的訂單編號 "+e(s.order.id.substr(-4,4))+" 與訂購人大名。",1),O]),t("ul",U,[t("li",q,"桌號：#"+e(s.order.user.address),1),t("li",z," 訂單日期："+e(n.$moment(new Date(s.order.create_at*1e3)).format("YYYY-MM-DD HH:mm")),1),t("li",J,"訂單編號："+e(s.order.id.substr(-4,4)),1),t("li",$,"訂購人："+e(s.order.user.name),1),t("li",G,"付款狀態："+e(s.order.is_paid?"已付款":"等待付款"),1)]),t("div",K,[Q,t("table",W,[X,t("tbody",Z,[s.order.products?(c(!0),i(v,{key:0},D(s.order.products,r=>(c(),i("tr",{key:r.id},[t("td",null,e(r.product.title),1),t("td",tt,e(r.product.price),1),t("td",et,e(r.qty),1),t("td",st,e(r.total),1)]))),128)):p("",!0)]),t("tfoot",null,[t("tr",ot,[rt,t("td",nt,e(s.order.total),1)]),t("tr",null,[t("td",at,"訂單備註："+e(s.order.message),1)])])])])])):p("",!0)])}const bt=y(P,[["render",ct]]);export{bt as default};
