import{c as x}from"./useCartStore-934a8bf0.js";import{m as b}from"./index-4e02047d.js";import{b6 as y,av as f,aj as p,l as _,F as P,at as w,m as t,t as l,aJ as i,s as r,b3 as M,b1 as g}from"./_plugin-vue_export-helper-68081c38.js";import{l as $}from"./runtime-dom.esm-bundler-eb0e3820.js";import{L as T}from"./LoadingDesign-df3df60d.js";import{s as E}from"./useSweetAlertStore-8a1afa13.js";import{M as k}from"./modal-07befdcc.js";import"./axios-aba6f0e0.js";import"./vue-router-e29dd812.js";import"./_commonjsHelpers-87174ba5.js";import"./base-component-3c0963ef.js";const L={name:"FrontProductsList",props:["openModal","products","category"],computed:{filteredProducts(){return this.filterProducts(this.products)}},methods:{filterProducts(s){if(this.category==="精選套餐"){const e=s.filter(a=>a.category===this.category);return this.gropuSetProducts(e)}else return s.filter(e=>e.category===this.category)},gropuSetProducts(s){const e={};return s.forEach(a=>{const{mainTitle:o,select1:d,select2:n}=a;e[o]===void 0?e[o]={...a}:typeof e[o].select1=="string"?(e[o].select1!==d&&(e[o].select1=[e[o].select1,d]),typeof e[o].select2=="string"&&e[o].select2!==n&&(e[o].select2=[e[o].select2,n])):(this.checkHas(e[o].select1,d)||(e[o].select1=[...e[o].select1,d]),this.checkHas(e[o].select2,n)||(e[o].select2=[...e[o].select2,n]))}),e},checkHas(s,e){return s.includes(e)},...b(x,["addToCart"])}},C={class:"list-unstyled mb-1 row row-cols-1 row-cols-md-2"},V={class:"position-relative bg-secondary rounded rounded-3 p-2 porductList"},j=["onClick"],A={class:"d-flex align-items-start align-items-lg-center"},F={class:"box-img me-2 ratio ratio-1x1 product-img"},S={class:"box-word w-100 d-flex flex-column justify-content-between"},D={class:"product-word ls-15"},I={class:"fs-6 ms-lg-2"},B={class:"d-flex justify-content-between align-items-start flex-column flex-lg-row align-content-end align-items-end"},U={class:"product-price text-end mb-1 mb-lg-0"},H={key:0,class:"fs-5"},N={key:1,class:"d-flex flex-column flex-lg-row align-content-end align-items-end me-1"},R={class:"fs-7 me-lg-1"},q={class:"fs-5 fw-bold"},O=t("div",{class:"py-1 px-2 bg-third rounded-5 fs-6 d-none d-lg-flex"},[t("span",{class:"material-symbols-rounded me-1"},"add_box"),r("加入購物車 ")],-1),z=t("div",{class:"d-flex justify-content-center py-1 px-2 mt-2 bg-third rounded-5 fs-6 d-lg-none"},[t("span",{class:"material-symbols-rounded me-1"},"add_box"),r("加入購物車 ")],-1);function G(s,e,a,o,d,n){const u=f("ProgressiveImage");return p(),_("ul",C,[(p(!0),_(P,null,w(n.filteredProducts,c=>(p(),_("li",{class:"col mb-2","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",key:c.id},[t("div",V,[t("button",{type:"button",class:"btn position-absolute z-2 btn-porduct-add",onClick:m=>a.openModal(c)},null,8,j),t("div",A,[t("div",F,[l(u,{src:`${c.imageUrl}?width=200`,class:"img-fluid object-top",alt:"{{ product.mainTitle }}"},null,8,["src"])]),t("div",S,[t("div",D,[t("h3",null,i(c.mainTitle),1),t("p",I,i(c.description),1)]),t("div",B,[t("div",U,[c.price==c.origin_price?(p(),_("div",H," $"+i(c.price)+" 元 ",1)):(p(),_("div",N,[t("del",R," 原價：$ "+i(c.origin_price)+" 元",1),t("span",q,"特價： $ "+i(c.price)+" 元",1)]))]),O])])]),z])]))),128))])}const J=y(L,[["render",G]]),K={props:["tempProduct","productModalElement"],data(){return{drinkType:[{selectValue:"cold",chinese:"冷飲(去冰)"},{selectValue:"ice",chinese:"冰飲"},{selectValue:"hot",chinese:"熱飲"}],message:""}},methods:{addToCartBtn(s,e=1,a){this.addToCart(s,1,a),this.productModalElement.hide(),this.message=""},watchMore(s){this.productModalElement.hide(),this.$router.push(`/product/${s}`)},...b(x,["addToCart"])}},Q={id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},W={class:"modal-dialog modal-dialog-centered modal-sm"},X={class:"modal-content"},Y=["src"],Z={class:"modal-header d-block"},tt={class:"d-flex justify-content-between flex-wrap"},et={class:"mb-2"},st=t("button",{type:"button",class:"btn-close position-absolute top-0 end-0 p-1 m-1 rounded-circle bg-opacity-75 bg-danger","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ot={class:"modal-body"},dt={class:"mb-3"},at=t("label",{for:"message",class:"col-form-label"},[r("餐點備註"),t("br"),t("span",{class:"fs-6"},"我們將盡量配合，未符合期待還請多包容哦，如兩份一樣的餐點要不同做法，請寫在一起。")],-1),nt={class:"modal-footer justify-content-between"};function lt(s,e,a,o,d,n){return p(),_("div",Q,[t("div",W,[t("div",X,[t("img",{class:"w-100",src:a.tempProduct.imageUrl},null,8,Y),t("div",Z,[t("div",tt,[t("h3",null,i(a.tempProduct.mainTitle),1),t("p",null,"$ "+i(a.tempProduct.price),1)]),t("p",et,i(a.tempProduct.description),1),st]),t("div",ot,[t("form",null,[t("div",dt,[at,M(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=u=>d.message=u),class:"form-control",id:"message",placeholder:"例如：不要小黃瓜、不要沙拉醬、要加番茄醬、一份正常做，一份不要沙拉醬"},null,512),[[$,d.message]])])])]),t("div",nt,[t("button",{type:"button",class:"btn btn-danger",onClick:e[1]||(e[1]=u=>n.watchMore(a.tempProduct.id))},"看更多"),t("button",{type:"button",class:"btn btn-secondary",onClick:e[2]||(e[2]=u=>n.addToCartBtn(a.tempProduct.id,1,d.message))},"放入購物車")])])])],512)}const ct=y(K,[["render",lt]]),{VITE_APP_URL:rt,VITE_APP_PATH:it}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"2259buyer",BASE_URL:"/VueTraining_w7/",MODE:"production",DEV:!1,PROD:!0},ut={data(){return{products:[],isLoading:!0,tempProduct:{},productModalElement:""}},methods:{getProduct(){this.$http.get(`${rt}/v2/api/${it}/products/all`).then(s=>{this.products=s.data.products,this.isLoading=!1}).catch(s=>{this.swalError(s)})},openModal(s){this.tempProduct={...s},this.productModalElement.show()},...b(x,["addToCart"]),...b(E,["swalError","swalToastTopEnd"])},mounted(){document.title="鮮堡漢堡 文化店 | 美味鮮堡",this.getProduct(),this.productModalElement=new k(document.querySelector("#productModal"),{keyboard:!1}),this.productModalElement.hide()},components:{LoadingDesign:T,FrontProductModal:ct,FrontProductsList:J}},mt={class:"w-100 position-relative pb-3"},pt={class:"common-hero container"},_t={class:"hero-banner overflow-hidden rounded rounded-6 rounded-lg-7 mb-3"},ht={class:"list-unstyled overflow-x-auto productsCatalogNav"},gt=t("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"selectSet"}," 嚴選套餐 ",-1),ft=t("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"hamburger"}," 漢堡 ",-1),bt=t("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"toast"}," 現烤吐司 ",-1),xt=t("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"sandwich"}," 現烤總匯 ",-1),yt=t("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"snack"}," 中西式點心 ",-1),Pt=t("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"omelet"}," 蛋餅、河粉蛋餅 ",-1);function vt(s,e,a,o,d,n){const u=f("LoadingDesign"),c=f("ProgressiveImage"),m=f("router-link"),h=f("FrontProductsList"),v=f("FrontProductModal");return p(),_(P,null,[l(u,{"is-loading":d.isLoading},null,8,["is-loading"]),t("main",mt,[t("section",pt,[t("div",_t,[l(c,{src:"./assets/images/product-hero.jpg",alt:"",class:"img-fluid object-fit-cover object-position-center"})]),t("ul",ht,[t("li",null,[l(m,{to:"/products#selectSet",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:g(()=>[r("嚴選套餐")]),_:1})]),t("li",null,[l(m,{to:"/products#hamburger",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:g(()=>[r("漢堡")]),_:1})]),t("li",null,[l(m,{to:"/products#toast",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:g(()=>[r("現烤吐司")]),_:1})]),t("li",null,[l(m,{to:"/products#sandwich",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:g(()=>[r("現烤總匯")]),_:1})]),t("li",null,[l(m,{to:"/products#snack",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:g(()=>[r("中西式點心")]),_:1})]),t("li",null,[l(m,{to:"/products#omelet",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:g(()=>[r("蛋餅、河粉蛋餅")]),_:1})])]),gt,l(h,{"open-modal":n.openModal,products:d.products,category:"精選套餐"},null,8,["open-modal","products"]),ft,l(h,{"open-modal":n.openModal,products:d.products,category:"漢堡"},null,8,["open-modal","products"]),bt,l(h,{"open-modal":n.openModal,products:d.products,category:"現烤三明治"},null,8,["open-modal","products"]),xt,l(h,{"open-modal":n.openModal,products:d.products,category:"現烤總匯"},null,8,["open-modal","products"]),yt,l(h,{"open-modal":n.openModal,products:d.products,category:"中西式點心"},null,8,["open-modal","products"]),Pt,l(h,{"open-modal":n.openModal,products:d.products,category:"蛋餅、河粉蛋餅"},null,8,["open-modal","products"]),l(v,{"temp-product":d.tempProduct,"product-modal-element":d.productModalElement},null,8,["temp-product","product-modal-element"])])])],64)}const Ft=y(ut,[["render",vt]]);export{Ft as default};
