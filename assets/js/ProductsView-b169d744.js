import{c as v}from"./useCartStore-aba2b368.js";import{m as b}from"./index-476e3e3e.js";import{b6 as w,av as g,aj as i,l as u,F as y,at as P,m as t,t as c,aJ as p,s as m,b3 as x,k as M,b1 as f}from"./_plugin-vue_export-helper-68081c38.js";import{j as k,l as E}from"./runtime-dom.esm-bundler-eb0e3820.js";import{L as $}from"./LoadingDesign-df3df60d.js";import{s as L}from"./useSweetAlertStore-1d23759d.js";import{M as V}from"./modal-07befdcc.js";import"./axios-aba6f0e0.js";import"./vue-router-e29dd812.js";import"./_commonjsHelpers-87174ba5.js";import"./base-component-3c0963ef.js";const C={name:"FrontProductsList",props:["openModal","products","category"],computed:{filteredProducts(){return this.filterProducts(this.products)}},methods:{filterProducts(o){if(this.category==="精選套餐"){const e=o.filter(d=>d.category===this.category);return this.gropuSetProducts(e)}else return o.filter(e=>e.category===this.category)},gropuSetProducts(o){const e={};return o.forEach(d=>{const{mainTitle:l,select1:s,select2:n}=d;e[l]===void 0?e[l]={...d}:typeof e[l].select1=="string"?(e[l].select1!==s&&(e[l].select1=[e[l].select1,s]),typeof e[l].select2=="string"&&e[l].select2!==n&&(e[l].select2=[e[l].select2,n])):(this.checkHas(e[l].select1,s)||(e[l].select1=[...e[l].select1,s]),this.checkHas(e[l].select2,n)||(e[l].select2=[...e[l].select2,n]))}),e},checkHas(o,e){return o.includes(e)},...b(v,["addToCart"])}},O={class:"list-unstyled mb-1 row row-cols-1 row-cols-md-2"},j={class:"position-relative bg-secondary rounded rounded-3 p-2 porductList"},I=["onClick"],A={class:"d-flex align-items-start align-items-lg-center"},F={class:"box-img me-2 ratio ratio-1x1 product-img"},S={class:"box-word w-100 d-flex flex-column justify-content-between"},D={class:"product-word ls-15"},U={class:"fs-6 ms-lg-2"},B={class:"d-flex justify-content-between align-items-start flex-column flex-lg-row align-content-end align-items-end"},H={class:"product-price text-end mb-1 mb-lg-0"},N={key:0,class:"fs-5"},R={key:1,class:"d-flex flex-column flex-lg-row align-content-end align-items-end me-1"},q={class:"fs-7 me-lg-1"},z={class:"fs-5 fw-bold"},G=t("div",{class:"py-1 px-2 bg-third rounded-5 fs-6 d-none d-lg-flex"},[t("span",{class:"material-symbols-rounded me-1"},"add_box"),m("加入購物車 ")],-1),J=t("div",{class:"d-flex justify-content-center py-1 px-2 mt-2 bg-third rounded-5 fs-6 d-lg-none"},[t("span",{class:"material-symbols-rounded me-1"},"add_box"),m("加入購物車 ")],-1);function K(o,e,d,l,s,n){const r=g("ProgressiveImage");return i(),u("ul",O,[(i(!0),u(y,null,P(n.filteredProducts,a=>(i(),u("li",{class:"col mb-2","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",key:a.id},[t("div",j,[t("button",{type:"button",class:"btn position-absolute z-2 btn-porduct-add",onClick:_=>d.openModal(a)},null,8,I),t("div",A,[t("div",F,[c(r,{src:`${a.imageUrl}?width=200`,class:"img-fluid object-top",alt:"{{ product.mainTitle }}"},null,8,["src"])]),t("div",S,[t("div",D,[t("h3",null,p(a.mainTitle),1),t("p",U,p(a.description),1)]),t("div",B,[t("div",H,[a.price==a.origin_price?(i(),u("div",N," $"+p(a.price)+" 元 ",1)):(i(),u("div",R,[t("del",q," 原價：$ "+p(a.origin_price)+" 元",1),t("span",z,"特價： $ "+p(a.price)+" 元",1)]))]),G])])]),J])]))),128))])}const Q=w(C,[["render",K]]),W={props:["tempProduct","products","productModalElement"],data(){return{drinkType:[{selectValue:"cold",chinese:"冷飲(去冰)"},{selectValue:"ice",chinese:"冰飲"},{selectValue:"hot",chinese:"熱飲"}],message:"",selectedOption1:"",selectedOption2:""}},methods:{addToCartBtn(o,e){e===1&&(o=this.findId()),this.addToCart(o,1,this.message),this.productModalElement.hide(),this.message="",this.selectedOption1="",this.selectedOption2=""},findId(){return this.products.find(e=>e.mainTitle===this.tempProduct.mainTitle&&e.select1===this.selectedOption1&&e.select2===this.selectedOption2).id},watchMore(o){this.productModalElement.hide(),this.$router.push(`/product/${o}`)},...b(v,["addToCart"])}},X={id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},Y={class:"modal-dialog modal-dialog-centered modal-sm"},Z={class:"modal-content"},tt=["src"],et={class:"modal-header d-block"},st={class:"d-flex justify-content-between flex-wrap"},ot={class:"mb-2"},dt=t("button",{type:"button",class:"btn-close position-absolute top-0 end-0 p-1 m-1 rounded-circle bg-opacity-75 bg-danger","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),lt={class:"modal-body"},nt={key:0,class:"mb-2"},at=t("p",{class:"mb-0"}," 主食選擇：",-1),ct=["value"],rt={key:1,class:"mb-2"},it=t("p",{class:"mb-0"}," 飲料選擇：",-1),ut=["value"],mt={class:"mb-3"},pt=t("label",{for:"message",class:"col-form-label"},[m("餐點備註"),t("br"),t("span",{class:"fs-6"},"我們將盡量配合，未符合期待還請多包容哦，如兩份一樣的餐點要不同做法，請寫在一起。")],-1),_t={class:"modal-footer justify-content-between"};function ht(o,e,d,l,s,n){return i(),u("div",X,[t("div",Y,[t("div",Z,[t("img",{class:"w-100",src:d.tempProduct.imageUrl},null,8,tt),t("div",et,[t("div",st,[t("h3",null,p(d.tempProduct.mainTitle),1),t("p",null,"$ "+p(d.tempProduct.price),1)]),t("p",ot,p(d.tempProduct.description),1),dt]),t("div",lt,[t("form",null,[d.tempProduct.select1?(i(),u("div",nt,[at,(i(!0),u(y,null,P(d.tempProduct.select1,r=>(i(),u("div",{key:r},[t("label",null,[x(t("input",{type:"radio",value:r,"onUpdate:modelValue":e[0]||(e[0]=a=>s.selectedOption1=a)},null,8,ct),[[k,s.selectedOption1]]),m(" "+p(r),1)])]))),128))])):M("",!0),d.tempProduct.select2?(i(),u("div",rt,[it,(i(!0),u(y,null,P(d.tempProduct.select2,r=>(i(),u("div",{key:r},[t("label",null,[x(t("input",{type:"radio",value:r,"onUpdate:modelValue":e[1]||(e[1]=a=>s.selectedOption2=a)},null,8,ut),[[k,s.selectedOption2]]),m(" "+p(r),1)])]))),128))])):M("",!0),t("div",mt,[pt,x(t("textarea",{"onUpdate:modelValue":e[2]||(e[2]=r=>s.message=r),class:"form-control",id:"message",placeholder:"例如：不要小黃瓜、不要沙拉醬、要加番茄醬、一份正常做，一份不要沙拉醬"},null,512),[[E,s.message]])])])]),t("div",_t,[t("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=r=>n.watchMore(d.tempProduct.id))},"看更多"),t("button",{type:"button",class:"btn btn-secondary",onClick:e[4]||(e[4]=r=>n.addToCartBtn(d.tempProduct.id,d.tempProduct.is_select))},"放入購物車")])])])],512)}const ft=w(W,[["render",ht]]),{VITE_APP_URL:gt,VITE_APP_PATH:bt}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"2259buyer",BASE_URL:"/VueTraining_w7/",MODE:"production",DEV:!1,PROD:!0},yt={data(){return{products:[],isLoading:!0,tempProduct:{},productModalElement:""}},methods:{getProduct(){this.$http.get(`${gt}/v2/api/${bt}/products/all`).then(o=>{this.products=o.data.products,this.isLoading=!1}).catch(o=>{this.swalError(o)})},openModal(o){this.tempProduct={...o},this.productModalElement.show()},...b(v,["addToCart"]),...b(L,["swalError","swalToastTopEnd"])},mounted(){document.title="鮮堡漢堡 文化店 | 美味鮮堡",this.getProduct(),this.productModalElement=new V(document.querySelector("#productModal"),{keyboard:!1}),this.productModalElement.hide()},components:{LoadingDesign:$,FrontProductModal:ft,FrontProductsList:Q}},xt={class:"w-100 position-relative pb-3"},Pt={class:"common-hero container"},vt={class:"hero-banner overflow-hidden rounded rounded-6 rounded-lg-7 mb-3"},wt={class:"list-unstyled overflow-x-auto productsCatalogNav"},Mt=t("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"selectSet"}," 嚴選套餐 ",-1),kt=t("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"hamburger"}," 漢堡 ",-1),Tt=t("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"toast"}," 現烤吐司 ",-1),Et=t("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"sandwich"}," 現烤總匯 ",-1),$t=t("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"snack"}," 中西式點心 ",-1),Lt=t("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"omelet"}," 蛋餅、河粉蛋餅 ",-1);function Vt(o,e,d,l,s,n){const r=g("LoadingDesign"),a=g("ProgressiveImage"),_=g("router-link"),h=g("FrontProductsList"),T=g("FrontProductModal");return i(),u(y,null,[c(r,{"is-loading":s.isLoading},null,8,["is-loading"]),t("main",xt,[t("section",Pt,[t("div",vt,[c(a,{src:"./assets/images/product-hero.jpg",alt:"",class:"img-fluid object-fit-cover object-position-center"})]),t("ul",wt,[t("li",null,[c(_,{to:"/products#selectSet",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:f(()=>[m("嚴選套餐")]),_:1})]),t("li",null,[c(_,{to:"/products#hamburger",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:f(()=>[m("漢堡")]),_:1})]),t("li",null,[c(_,{to:"/products#toast",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:f(()=>[m("現烤吐司")]),_:1})]),t("li",null,[c(_,{to:"/products#sandwich",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:f(()=>[m("現烤總匯")]),_:1})]),t("li",null,[c(_,{to:"/products#snack",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:f(()=>[m("中西式點心")]),_:1})]),t("li",null,[c(_,{to:"/products#omelet",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:f(()=>[m("蛋餅、河粉蛋餅")]),_:1})])]),Mt,c(h,{"open-modal":n.openModal,products:s.products,category:"精選套餐"},null,8,["open-modal","products"]),kt,c(h,{"open-modal":n.openModal,products:s.products,category:"漢堡"},null,8,["open-modal","products"]),Tt,c(h,{"open-modal":n.openModal,products:s.products,category:"現烤三明治"},null,8,["open-modal","products"]),Et,c(h,{"open-modal":n.openModal,products:s.products,category:"現烤總匯"},null,8,["open-modal","products"]),$t,c(h,{"open-modal":n.openModal,products:s.products,category:"中西式點心"},null,8,["open-modal","products"]),Lt,c(h,{"open-modal":n.openModal,products:s.products,category:"蛋餅、河粉蛋餅"},null,8,["open-modal","products"]),c(T,{"temp-product":s.tempProduct,products:s.products,"product-modal-element":s.productModalElement},null,8,["temp-product","products","product-modal-element"])])])],64)}const Nt=w(yt,[["render",Vt]]);export{Nt as default};
