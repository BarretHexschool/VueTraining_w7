import{c as f}from"./useCartStore-4fdabb46.js";import{m as b}from"./index-f8e7a143.js";import{b6 as x,av as g,aj as c,l as i,F as v,at as P,m as t,t as o,aJ as r,s as u,b3 as M,b1 as h}from"./_plugin-vue_export-helper-68081c38.js";import{l as $}from"./runtime-dom.esm-bundler-eb0e3820.js";import{L as T}from"./LoadingDesign-df3df60d.js";import{s as E}from"./useSweetAlertStore-71722cb4.js";import{M as k}from"./modal-07befdcc.js";import"./axios-aba6f0e0.js";import"./vue-router-e29dd812.js";import"./_commonjsHelpers-87174ba5.js";import"./base-component-3c0963ef.js";const L={name:"FrontProductsList",props:["openModal","products","category"],computed:{filteredProducts(){return this.filterProducts(this.products)}},methods:{filterProducts(s){return this.category==="all"?s:s.filter(a=>a.category===this.category)},...b(f,["addToCart"])}},C={class:"list-unstyled mb-1 row row-cols-1 row-cols-md-2"},V={class:"position-relative bg-secondary rounded rounded-3 p-2 porductList"},j=["onClick"],A={class:"d-flex align-items-start align-items-lg-center"},F={class:"box-img me-2 ratio ratio-1x1 product-img"},D={class:"box-word w-100 d-flex flex-column justify-content-between"},I={class:"product-word ls-15"},S={key:0},B={class:"mb-0 fs-6 ms-lg-2"},U={key:1},N={class:"fs-6 ms-lg-2"},R={class:"d-flex justify-content-between align-items-start flex-column flex-lg-row align-content-end align-items-end"},q={class:"product-price text-end mb-1 mb-lg-0"},H={key:0,class:"fs-5"},O={key:1,class:"d-flex flex-column flex-lg-row align-content-end align-items-end me-1"},z={class:"fs-7 me-lg-1"},J={class:"fs-5 fw-bold"},G=t("div",{class:"py-1 px-2 bg-third rounded-5 fs-6 d-none d-lg-flex"},[t("span",{class:"material-symbols-rounded me-1"},"add_box"),u("加入購物車 ")],-1),K=t("div",{class:"d-flex justify-content-center py-1 px-2 mt-2 bg-third rounded-5 fs-6 d-lg-none"},[t("span",{class:"material-symbols-rounded me-1"},"add_box"),u("加入購物車 ")],-1);function Q(s,a,n,y,d,l){const m=g("ProgressiveImage");return c(),i("ul",C,[(c(!0),i(v,null,P(l.filteredProducts,e=>(c(),i("li",{class:"col mb-2","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",key:e.id},[t("div",V,[t("button",{type:"button",class:"btn position-absolute z-2 btn-porduct-add",onClick:p=>n.openModal(e)},null,8,j),t("div",A,[t("div",F,[o(m,{src:`${e.imageUrl}?width=200`,class:"img-fluid object-top",alt:"{{ product.mainTitle }}"},null,8,["src"])]),t("div",D,[t("div",I,[e.is_select?(c(),i("div",S,[t("h3",null,r(e.mainTitle),1),t("p",B," 搭配："+r(e.select1)+"、"+r(e.select2),1)])):(c(),i("div",U,[t("h3",null,r(e.title),1),t("p",N,r(e.select1),1)]))]),t("div",R,[t("div",q,[e.price==e.origin_price?(c(),i("div",H," $"+r(e.price)+" 元 ",1)):(c(),i("div",O,[t("del",z," 原價：$ "+r(e.origin_price)+" 元",1),t("span",J,"特價： $ "+r(e.price)+" 元",1)]))]),G])])]),K])]))),128))])}const W=x(L,[["render",Q]]),X={props:["tempProduct","productModalElement"],data(){return{drinkType:[{selectValue:"cold",chinese:"冷飲(去冰)"},{selectValue:"ice",chinese:"冰飲"},{selectValue:"hot",chinese:"熱飲"}],message:""}},methods:{addToCartBtn(s,a=1,n){this.addToCart(s,1,n),this.productModalElement.hide(),this.message=""},watchMore(s){this.productModalElement.hide(),this.$router.push(`/product/${s}`)},...b(f,["addToCart"])}},Y={id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},Z={class:"modal-dialog modal-dialog-centered modal-sm"},tt={class:"modal-content"},et=["src"],ot={class:"modal-header d-block"},st={class:"d-flex justify-content-between flex-wrap"},dt={class:"mb-2"},at=t("button",{type:"button",class:"btn-close position-absolute top-0 end-0 p-1 m-1 rounded-circle bg-opacity-75 bg-danger","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),nt={class:"modal-body"},lt={class:"mb-3"},rt=t("label",{for:"message",class:"col-form-label"},[u("餐點備註"),t("br"),t("span",{class:"fs-6"},"我們將盡量配合，未符合期待還請多包容哦，如兩份一樣的餐點要不同做法，請寫在一起。")],-1),ct={class:"modal-footer justify-content-between"};function it(s,a,n,y,d,l){return c(),i("div",Y,[t("div",Z,[t("div",tt,[t("img",{class:"w-100",src:n.tempProduct.imageUrl},null,8,et),t("div",ot,[t("div",st,[t("h3",null,r(n.tempProduct.mainTitle),1),t("p",null,"$ "+r(n.tempProduct.price),1)]),t("p",dt,r(n.tempProduct.description),1),at]),t("div",nt,[t("form",null,[t("div",lt,[rt,M(t("textarea",{"onUpdate:modelValue":a[0]||(a[0]=m=>d.message=m),class:"form-control",id:"message",placeholder:"例如：不要小黃瓜、不要沙拉醬、要加番茄醬、一份正常做，一份不要沙拉醬"},null,512),[[$,d.message]])])])]),t("div",ct,[t("button",{type:"button",class:"btn btn-danger",onClick:a[1]||(a[1]=m=>l.watchMore(n.tempProduct.id))},"看更多"),t("button",{type:"button",class:"btn btn-secondary",onClick:a[2]||(a[2]=m=>l.addToCartBtn(n.tempProduct.id,1,d.message))},"放入購物車")])])])],512)}const ut=x(X,[["render",it]]),{VITE_APP_URL:mt,VITE_APP_PATH:pt}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"2259buyer",BASE_URL:"/VueTraining_w7/",MODE:"production",DEV:!1,PROD:!0},_t={data(){return{products:[],isLoading:!0,tempProduct:{},productModalElement:""}},methods:{getProduct(){this.$http.get(`${mt}/v2/api/${pt}/products/all`).then(s=>{this.products=s.data.products,this.isLoading=!1}).catch(s=>{this.swalError(s)})},openModal(s){this.tempProduct={...s},this.productModalElement.show()},...b(f,["addToCart"]),...b(E,["swalError","swalToastTopEnd"])},mounted(){document.title="鮮堡漢堡 文化店 | 美味鮮堡",this.getProduct(),this.productModalElement=new k(document.querySelector("#productModal"),{keyboard:!1}),this.productModalElement.hide()},components:{LoadingDesign:T,FrontProductModal:ut,FrontProductsList:W}},ht={class:"w-100 position-relative pb-3"},gt={class:"common-hero container"},bt={class:"hero-banner overflow-hidden rounded rounded-6 rounded-lg-7 mb-3"},ft={class:"list-unstyled overflow-x-auto productsCatalogNav"},xt=t("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"selectSet"}," 嚴選套餐 ",-1),yt=t("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"hamburger"}," 漢堡 ",-1),vt=t("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"toast"}," 現烤吐司 ",-1),wt=t("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"sandwich"}," 現烤總匯 ",-1),Pt=t("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"snack"}," 中西式點心 ",-1),Mt=t("h2",{class:"ls-2 mb-1 text-sm-start text-center","data-aos":"fade-up","data-aos-easing":"liner","data-aos-delay":"30",id:"omelet"}," 蛋餅、河粉蛋餅 ",-1);function $t(s,a,n,y,d,l){const m=g("LoadingDesign"),e=g("ProgressiveImage"),p=g("router-link"),_=g("FrontProductsList"),w=g("FrontProductModal");return c(),i(v,null,[o(m,{"is-loading":d.isLoading},null,8,["is-loading"]),t("main",ht,[t("section",gt,[t("div",bt,[o(e,{src:"./assets/images/product-hero.jpg",alt:"",class:"img-fluid object-fit-cover object-position-center"})]),t("ul",ft,[t("li",null,[o(p,{to:"/products#selectSet",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:h(()=>[u("嚴選套餐")]),_:1})]),t("li",null,[o(p,{to:"/products#hamburger",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:h(()=>[u("漢堡")]),_:1})]),t("li",null,[o(p,{to:"/products#toast",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:h(()=>[u("現烤吐司")]),_:1})]),t("li",null,[o(p,{to:"/products#sandwich",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:h(()=>[u("現烤總匯")]),_:1})]),t("li",null,[o(p,{to:"/products#snack",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:h(()=>[u("中西式點心")]),_:1})]),t("li",null,[o(p,{to:"/products#omelet",class:"btn btn-secondary rounded-4 px-md-4 p-2 me-2 text-nowrap ls-15"},{default:h(()=>[u("蛋餅、河粉蛋餅")]),_:1})])]),xt,o(_,{"open-modal":l.openModal,products:d.products,category:"精選套餐"},null,8,["open-modal","products"]),yt,o(_,{"open-modal":l.openModal,products:d.products,category:"漢堡"},null,8,["open-modal","products"]),vt,o(_,{"open-modal":l.openModal,products:d.products,category:"現烤三明治"},null,8,["open-modal","products"]),wt,o(_,{"open-modal":l.openModal,products:d.products,category:"現烤總匯"},null,8,["open-modal","products"]),Pt,o(_,{"open-modal":l.openModal,products:d.products,category:"中西式點心"},null,8,["open-modal","products"]),Mt,o(_,{"open-modal":l.openModal,products:d.products,category:"蛋餅、河粉蛋餅"},null,8,["open-modal","products"]),o(w,{"temp-product":d.tempProduct,"product-modal-element":d.productModalElement},null,8,["temp-product","product-modal-element"])])])],64)}const St=x(_t,[["render",$t]]);export{St as default};
